{
  "version": 3,
  "sources": [
    "../node_modules/browser-pack/_prelude.js",
    "../node_modules/open-simplex-noise/lib/constants.js",
    "../node_modules/open-simplex-noise/lib/index.js",
    "asteroid.js",
    "engine/camera.js",
    "engine/collision.js",
    "engine/ctxlib.js",
    "engine/game.js",
    "engine/keyboard.js",
    "engine/loading-scene.js",
    "engine/loop.js",
    "engine/resources.js",
    "engine/scene.js",
    "engine/vmath.js",
    "main.js",
    "shape.js",
    "ship.js",
    "utils.js"
  ],
  "names": [],
  "mappings": "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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.NORM_2D=1/47,exports.NORM_3D=1/103,exports.NORM_4D=1/30,exports.SQUISH_2D=(Math.sqrt(3)-1)/2,exports.SQUISH_3D=(Math.sqrt(4)-1)/3,exports.SQUISH_4D=(Math.sqrt(5)-1)/4,exports.STRETCH_2D=(1/Math.sqrt(3)-1)/2,exports.STRETCH_3D=(1/Math.sqrt(4)-1)/3,exports.STRETCH_4D=(1/Math.sqrt(5)-1)/4,exports.base2D=[[1,1,0,1,0,1,0,0,0],[1,1,0,1,0,1,2,1,1]],exports.base3D=[[0,0,0,0,1,1,0,0,1,0,1,0,1,0,0,1],[2,1,1,0,2,1,0,1,2,0,1,1,3,1,1,1],[1,1,0,0,1,0,1,0,1,0,0,1,2,1,1,0,2,1,0,1,2,0,1,1]],exports.base4D=[[0,0,0,0,0,1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,4,1,1,1,1],[1,1,0,0,0,1,0,1,0,0,1,0,0,1,0,1,0,0,0,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1],[3,1,1,1,0,3,1,1,0,1,3,1,0,1,1,3,0,1,1,1,2,1,1,0,0,2,1,0,1,0,2,1,0,0,1,2,0,1,1,0,2,0,1,0,1,2,0,0,1,1]],exports.gradients2D=[5,2,2,5,-5,2,-2,5,5,-2,2,-5,-5,-2,-2,-5],exports.gradients3D=[-11,4,4,-4,11,4,-4,4,11,11,4,4,4,11,4,4,4,11,-11,-4,4,-4,-11,4,-4,-4,11,11,-4,4,4,-11,4,4,-4,11,-11,4,-4,-4,11,-4,-4,4,-11,11,4,-4,4,11,-4,4,4,-11,-11,-4,-4,-4,-11,-4,-4,-4,-11,11,-4,-4,4,-11,-4,4,-4,-11],exports.gradients4D=[3,1,1,1,1,3,1,1,1,1,3,1,1,1,1,3,-3,1,1,1,-1,3,1,1,-1,1,3,1,-1,1,1,3,3,-1,1,1,1,-3,1,1,1,-1,3,1,1,-1,1,3,-3,-1,1,1,-1,-3,1,1,-1,-1,3,1,-1,-1,1,3,3,1,-1,1,1,3,-1,1,1,1,-3,1,1,1,-1,3,-3,1,-1,1,-1,3,-1,1,-1,1,-3,1,-1,1,-1,3,3,-1,-1,1,1,-3,-1,1,1,-1,-3,1,1,-1,-1,3,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,3,1,1,-1,1,3,1,-1,1,1,3,-1,1,1,1,-3,-3,1,1,-1,-1,3,1,-1,-1,1,3,-1,-1,1,1,-3,3,-1,1,-1,1,-3,1,-1,1,-1,3,-1,1,-1,1,-3,-3,-1,1,-1,-1,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,3,1,-1,-1,1,3,-1,-1,1,1,-3,-1,1,1,-1,-3,-3,1,-1,-1,-1,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,3,-1,-1,-1,1,-3,-1,-1,1,-1,-3,-1,1,-1,-1,-3,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3,-1,-1,-1,-1,-3],exports.lookupPairs2D=[0,1,1,0,4,1,17,0,20,2,21,2,22,5,23,5,26,4,39,3,42,4,43,3],exports.lookupPairs3D=[0,2,1,1,2,2,5,1,6,0,7,0,32,2,34,2,129,1,133,1,160,5,161,5,518,0,519,0,546,4,550,4,645,3,647,3,672,5,673,5,674,4,677,3,678,4,679,3,680,13,681,13,682,12,685,14,686,12,687,14,712,20,714,18,809,21,813,23,840,20,841,21,1198,19,1199,22,1226,18,1230,19,1325,23,1327,22,1352,15,1353,17,1354,15,1357,17,1358,16,1359,16,1360,11,1361,10,1362,11,1365,10,1366,9,1367,9,1392,11,1394,11,1489,10,1493,10,1520,8,1521,8,1878,9,1879,9,1906,7,1910,7,2005,6,2007,6,2032,8,2033,8,2034,7,2037,6,2038,7,2039,6],exports.lookupPairs4D=[0,3,1,2,2,3,5,2,6,1,7,1,8,3,9,2,10,3,13,2,16,3,18,3,22,1,23,1,24,3,26,3,33,2,37,2,38,1,39,1,41,2,45,2,54,1,55,1,56,0,57,0,58,0,59,0,60,0,61,0,62,0,63,0,256,3,258,3,264,3,266,3,272,3,274,3,280,3,282,3,2049,2,2053,2,2057,2,2061,2,2081,2,2085,2,2089,2,2093,2,2304,9,2305,9,2312,9,2313,9,16390,1,16391,1,16406,1,16407,1,16422,1,16423,1,16438,1,16439,1,16642,8,16646,8,16658,8,16662,8,18437,6,18439,6,18469,6,18471,6,18688,9,18689,9,18690,8,18693,6,18694,8,18695,6,18696,9,18697,9,18706,8,18710,8,18725,6,18727,6,131128,0,131129,0,131130,0,131131,0,131132,0,131133,0,131134,0,131135,0,131352,7,131354,7,131384,7,131386,7,133161,5,133165,5,133177,5,133181,5,133376,9,133377,9,133384,9,133385,9,133400,7,133402,7,133417,5,133421,5,133432,7,133433,5,133434,7,133437,5,147510,4,147511,4,147518,4,147519,4,147714,8,147718,8,147730,8,147734,8,147736,7,147738,7,147766,4,147767,4,147768,7,147770,7,147774,4,147775,4,149509,6,149511,6,149541,6,149543,6,149545,5,149549,5,149558,4,149559,4,149561,5,149565,5,149566,4,149567,4,149760,9,149761,9,149762,8,149765,6,149766,8,149767,6,149768,9,149769,9,149778,8,149782,8,149784,7,149786,7,149797,6,149799,6,149801,5,149805,5,149814,4,149815,4,149816,7,149817,5,149818,7,149821,5,149822,4,149823,4,149824,37,149825,37,149826,36,149829,34,149830,36,149831,34,149832,37,149833,37,149842,36,149846,36,149848,35,149850,35,149861,34,149863,34,149865,33,149869,33,149878,32,149879,32,149880,35,149881,33,149882,35,149885,33,149886,32,149887,32,150080,49,150082,48,150088,49,150098,48,150104,47,150106,47,151873,46,151877,45,151881,46,151909,45,151913,44,151917,44,152128,49,152129,46,152136,49,152137,46,166214,43,166215,42,166230,43,166247,42,166262,41,166263,41,166466,48,166470,43,166482,48,166486,43,168261,45,168263,42,168293,45,168295,42,168512,31,168513,28,168514,31,168517,28,168518,25,168519,25,280952,40,280953,39,280954,40,280957,39,280958,38,280959,38,281176,47,281178,47,281208,40,281210,40,282985,44,282989,44,283001,39,283005,39,283208,30,283209,27,283224,30,283241,27,283256,22,283257,22,297334,41,297335,41,297342,38,297343,38,297554,29,297558,24,297562,29,297590,24,297594,21,297598,21,299365,26,299367,23,299373,26,299383,23,299389,20,299391,20,299584,31,299585,28,299586,31,299589,28,299590,25,299591,25,299592,30,299593,27,299602,29,299606,24,299608,30,299610,29,299621,26,299623,23,299625,27,299629,26,299638,24,299639,23,299640,22,299641,22,299642,21,299645,20,299646,21,299647,20,299648,61,299649,60,299650,61,299653,60,299654,59,299655,59,299656,58,299657,57,299666,55,299670,54,299672,58,299674,55,299685,52,299687,51,299689,57,299693,52,299702,54,299703,51,299704,56,299705,56,299706,53,299709,50,299710,53,299711,50,299904,61,299906,61,299912,58,299922,55,299928,58,299930,55,301697,60,301701,60,301705,57,301733,52,301737,57,301741,52,301952,79,301953,79,301960,76,301961,76,316038,59,316039,59,316054,54,316071,51,316086,54,316087,51,316290,78,316294,78,316306,73,316310,73,318085,77,318087,77,318117,70,318119,70,318336,79,318337,79,318338,78,318341,77,318342,78,318343,77,430776,56,430777,56,430778,53,430781,50,430782,53,430783,50,431e3,75,431002,72,431032,75,431034,72,432809,74,432813,69,432825,74,432829,69,433032,76,433033,76,433048,75,433065,74,433080,75,433081,74,447158,71,447159,68,447166,71,447167,68,447378,73,447382,73,447386,72,447414,71,447418,72,447422,71,449189,70,449191,70,449197,69,449207,68,449213,69,449215,68,449408,67,449409,67,449410,66,449413,64,449414,66,449415,64,449416,67,449417,67,449426,66,449430,66,449432,65,449434,65,449445,64,449447,64,449449,63,449453,63,449462,62,449463,62,449464,65,449465,63,449466,65,449469,63,449470,62,449471,62,449472,19,449473,19,449474,18,449477,16,449478,18,449479,16,449480,19,449481,19,449490,18,449494,18,449496,17,449498,17,449509,16,449511,16,449513,15,449517,15,449526,14,449527,14,449528,17,449529,15,449530,17,449533,15,449534,14,449535,14,449728,19,449729,19,449730,18,449734,18,449736,19,449737,19,449746,18,449750,18,449752,17,449754,17,449784,17,449786,17,451520,19,451521,19,451525,16,451527,16,451528,19,451529,19,451557,16,451559,16,451561,15,451565,15,451577,15,451581,15,451776,19,451777,19,451784,19,451785,19,465858,18,465861,16,465862,18,465863,16,465874,18,465878,18,465893,16,465895,16,465910,14,465911,14,465918,14,465919,14,466114,18,466118,18,466130,18,466134,18,467909,16,467911,16,467941,16,467943,16,468160,13,468161,13,468162,13,468163,13,468164,13,468165,13,468166,13,468167,13,580568,17,580570,17,580585,15,580589,15,580598,14,580599,14,580600,17,580601,15,580602,17,580605,15,580606,14,580607,14,580824,17,580826,17,580856,17,580858,17,582633,15,582637,15,582649,15,582653,15,582856,12,582857,12,582872,12,582873,12,582888,12,582889,12,582904,12,582905,12,596982,14,596983,14,596990,14,596991,14,597202,11,597206,11,597210,11,597214,11,597234,11,597238,11,597242,11,597246,11,599013,10,599015,10,599021,10,599023,10,599029,10,599031,10,599037,10,599039,10,599232,13,599233,13,599234,13,599235,13,599236,13,599237,13,599238,13,599239,13,599240,12,599241,12,599250,11,599254,11,599256,12,599257,12,599258,11,599262,11,599269,10,599271,10,599272,12,599273,12,599277,10,599279,10,599282,11,599285,10,599286,11,599287,10,599288,12,599289,12,599290,11,599293,10,599294,11,599295,10],exports.p2D=[0,0,1,-1,0,0,-1,1,0,2,1,1,1,2,2,0,1,2,0,2,1,0,0,0],exports.p3D=[0,0,1,-1,0,0,1,0,-1,0,0,-1,1,0,0,0,1,-1,0,0,-1,0,1,0,0,-1,1,0,2,1,1,0,1,1,1,-1,0,2,1,0,1,1,1,-1,1,0,2,0,1,1,1,-1,1,1,1,3,2,1,0,3,1,2,0,1,3,2,0,1,3,1,0,2,1,3,0,2,1,3,0,1,2,1,1,1,0,0,2,2,0,0,1,1,0,1,0,2,0,2,0,1,1,0,0,1,2,0,0,2,2,0,0,0,0,1,1,-1,1,2,0,0,0,0,1,-1,1,1,2,0,0,0,0,1,1,1,-1,2,3,1,1,1,2,0,0,2,2,3,1,1,1,2,2,0,0,2,3,1,1,1,2,0,2,0,2,1,1,-1,1,2,0,0,2,2,1,1,-1,1,2,2,0,0,2,1,-1,1,1,2,0,0,2,2,1,-1,1,1,2,0,2,0,2,1,1,1,-1,2,2,0,0,2,1,1,1,-1,2,0,2,0],exports.p4D=[0,0,1,-1,0,0,0,1,0,-1,0,0,1,0,0,-1,0,0,-1,1,0,0,0,0,1,-1,0,0,0,1,0,-1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,-1,0,0,-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,2,1,1,0,0,1,1,1,-1,0,1,1,1,0,-1,0,2,1,0,1,0,1,1,-1,1,0,1,1,0,1,-1,0,2,0,1,1,0,1,-1,1,1,0,1,0,1,1,-1,0,2,1,0,0,1,1,1,-1,0,1,1,1,0,-1,1,0,2,0,1,0,1,1,-1,1,0,1,1,0,1,-1,1,0,2,0,0,1,1,1,-1,0,1,1,1,0,-1,1,1,1,4,2,1,1,0,4,1,2,1,0,4,1,1,2,0,1,4,2,1,0,1,4,1,2,0,1,4,1,1,0,2,1,4,2,0,1,1,4,1,0,2,1,4,1,0,1,2,1,4,0,2,1,1,4,0,1,2,1,4,0,1,1,2,1,2,1,1,0,0,3,2,1,0,0,3,1,2,0,0,1,2,1,0,1,0,3,2,0,1,0,3,1,0,2,0,1,2,0,1,1,0,3,0,2,1,0,3,0,1,2,0,1,2,1,0,0,1,3,2,0,0,1,3,1,0,0,2,1,2,0,1,0,1,3,0,2,0,1,3,0,1,0,2,1,2,0,0,1,1,3,0,0,2,1,3,0,0,1,2,2,3,1,1,1,0,2,1,1,1,-1,2,2,0,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,2,0,0,0,2,3,1,0,1,1,2,1,-1,1,1,2,2,0,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,2,0,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,2,0,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,2,0,0,2,3,1,1,1,0,2,1,1,1,-1,2,0,0,2,0,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,2,0,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,2,0,2,3,1,1,0,1,2,1,1,-1,1,2,0,0,0,2,2,3,1,0,1,1,2,1,-1,1,1,2,0,0,0,2,2,3,0,1,1,1,2,-1,1,1,1,2,0,0,0,2,2,1,1,1,-1,0,1,1,1,0,-1,0,0,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,0,0,0,0,0,2,1,-1,1,1,0,1,0,1,1,-1,0,0,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,0,0,0,0,0,2,1,-1,1,0,1,1,0,1,-1,1,0,0,0,0,0,2,1,-1,0,1,1,1,0,-1,1,1,0,0,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,2,0,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,2,0,0,0,2,1,1,-1,0,1,1,1,0,-1,1,2,2,0,0,0,2,1,1,1,-1,0,1,1,1,0,-1,2,0,2,0,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,2,0,0,2,1,-1,1,0,1,1,0,1,-1,1,2,0,2,0,0,2,1,1,-1,1,0,1,1,0,1,-1,2,0,0,2,0,2,1,-1,1,1,0,1,0,1,1,-1,2,0,0,2,0,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,2,0,2,1,1,-1,0,1,1,1,0,-1,1,2,0,0,0,2,2,1,-1,1,0,1,1,0,1,-1,1,2,0,0,0,2,2,1,-1,0,1,1,1,0,-1,1,1,2,0,0,0,2,3,1,1,0,0,0,2,2,0,0,0,2,1,1,1,-1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,1,-1,3,1,0,0,1,0,2,0,0,2,0,2,1,1,1,-1,3,1,1,0,0,0,2,2,0,0,0,2,1,1,-1,1,3,1,0,1,0,0,2,0,2,0,0,2,1,1,-1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,1,-1,1,3,1,1,0,0,0,2,2,0,0,0,2,1,-1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,1,-1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,1,-1,1,1,3,1,0,1,0,0,2,0,2,0,0,2,-1,1,1,1,3,1,0,0,1,0,2,0,0,2,0,2,-1,1,1,1,3,1,0,0,0,1,2,0,0,0,2,2,-1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,4,1,1,1,1,3,3,2,0,1,0,3,1,0,2,0,4,1,1,1,1,3,3,0,2,1,0,3,0,1,2,0,4,1,1,1,1,3,3,2,0,0,1,3,1,0,0,2,4,1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,4,1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,4,1,1,1,1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,1,-1,3,3,2,0,1,0,3,1,0,2,0,2,1,1,1,-1,3,3,0,2,1,0,3,0,1,2,0,2,1,1,1,-1,3,3,2,1,0,0,3,1,2,0,0,2,1,1,-1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,1,-1,1,3,3,0,2,0,1,3,0,1,0,2,2,1,1,-1,1,3,3,2,0,1,0,3,1,0,2,0,2,1,-1,1,1,3,3,2,0,0,1,3,1,0,0,2,2,1,-1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,1,-1,1,1,3,3,0,2,1,0,3,0,1,2,0,2,-1,1,1,1,3,3,0,2,0,1,3,0,1,0,2,2,-1,1,1,1,3,3,0,0,2,1,3,0,0,1,2,2,-1,1,1,1];\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbnN0YW50cy5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsIk5PUk1fMkQiLCJOT1JNXzNEIiwiTk9STV80RCIsIlNRVUlTSF8yRCIsIk1hdGgiLCJzcXJ0IiwiU1FVSVNIXzNEIiwiU1FVSVNIXzREIiwiU1RSRVRDSF8yRCIsIlNUUkVUQ0hfM0QiLCJTVFJFVENIXzREIiwiYmFzZTJEIiwiYmFzZTNEIiwiYmFzZTREIiwiZ3JhZGllbnRzMkQiLCJncmFkaWVudHMzRCIsImdyYWRpZW50czREIiwibG9va3VwUGFpcnMyRCIsImxvb2t1cFBhaXJzM0QiLCJsb29rdXBQYWlyczREIiwicDJEIiwicDNEIiwicDREIl0sIm1hcHBpbmdzIjoiQUFBQSxhQUNBQSxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0REQsUUFBUUUsUUFBVSxFQUFNLEdBQ3hCRixRQUFRRyxRQUFVLEVBQU0sSUFDeEJILFFBQVFJLFFBQVUsRUFBTSxHQUN4QkosUUFBUUssV0FBYUMsS0FBS0MsS0FBSyxHQUFTLEdBQUssRUFDN0NQLFFBQVFRLFdBQWFGLEtBQUtDLEtBQUssR0FBUyxHQUFLLEVBQzdDUCxRQUFRUyxXQUFhSCxLQUFLQyxLQUFLLEdBQVMsR0FBSyxFQUM3Q1AsUUFBUVUsWUFBYyxFQUFJSixLQUFLQyxLQUFLLEdBQVMsR0FBSyxFQUNsRFAsUUFBUVcsWUFBYyxFQUFJTCxLQUFLQyxLQUFLLEdBQVMsR0FBSyxFQUNsRFAsUUFBUVksWUFBYyxFQUFJTixLQUFLQyxLQUFLLEdBQVMsR0FBSyxFQUNsRFAsUUFBUWEsT0FBUyxDQUNiLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3pCLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRTdCYixRQUFRYyxPQUFTLENBQ2IsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUM5QyxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQzlDLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLElBRTFFZCxRQUFRZSxPQUFTLENBQ2IsQ0FBQyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxHQUN6RSxDQUFDLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ3pFLENBQ0ksRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUVKLENBQ0ksRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxJQUdSZixRQUFRZ0IsWUFBYyxDQUNsQixFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsR0FDQyxFQUNELEVBQ0EsR0FDQyxFQUNELEdBQ0MsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUVMaEIsUUFBUWlCLFlBQWMsRUFDakIsR0FDRCxFQUNBLEdBQ0MsRUFDRCxHQUNBLEdBQ0MsRUFDRCxFQUNBLEdBQ0EsR0FDQSxFQUNBLEVBQ0EsRUFDQSxHQUNBLEVBQ0EsRUFDQSxFQUNBLElBQ0MsSUFDQSxFQUNELEdBQ0MsR0FDQSxHQUNELEdBQ0MsR0FDQSxFQUNELEdBQ0EsSUFDQyxFQUNELEVBQ0EsR0FDQyxHQUNELEVBQ0EsR0FDQyxFQUNELElBQ0MsR0FDRCxHQUNDLEdBQ0EsRUFDRCxJQUNDLEdBQ0EsRUFDRCxHQUNDLEdBQ0QsR0FDQSxHQUNDLEVBQ0QsRUFDQSxJQUNDLEVBQ0QsRUFDQSxHQUNDLElBQ0EsSUFDQSxHQUNBLEdBQ0EsR0FDQSxJQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0QsSUFDQyxHQUNBLEVBQ0QsR0FDQyxJQUNBLEVBQ0QsR0FDQyxHQUNBLElBRUxqQixRQUFRa0IsWUFBYyxDQUNsQixFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsR0FDQyxHQUNBLEVBQ0QsRUFDQSxHQUNDLEdBQ0EsRUFDRCxFQUNBLEdBQ0MsR0FDQSxFQUNELEVBQ0EsR0FDQyxHQUNBLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsR0FDQyxFQUNELEdBQ0MsRUFDRCxHQUNDLEVBQ0QsR0FDQyxFQUNELEdBQ0MsRUFDRCxHQUNDLEVBQ0QsR0FDQyxFQUNELEdBQ0MsRUFDRCxHQUNDLEVBQ0QsRUFDQSxHQUNDLEdBQ0EsRUFDRCxFQUNBLEdBQ0MsR0FDQSxFQUNELEVBQ0EsR0FDQyxHQUNBLEVBQ0QsRUFDQSxHQUNDLEdBQ0EsRUFDRCxHQUNDLEdBQ0EsR0FDQSxFQUNELEdBQ0MsR0FDQSxHQUNBLEVBQ0QsR0FDQyxHQUNBLEdBQ0EsRUFDRCxHQUNDLEdBQ0EsR0FDQSxFQUNELEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEdBQ0MsR0FDQSxFQUNELEVBQ0EsR0FDQyxHQUNBLEVBQ0QsRUFDQSxHQUNDLEdBQ0EsRUFDRCxFQUNBLEdBQ0MsR0FDQSxFQUNELEVBQ0EsR0FDQyxFQUNELEdBQ0MsRUFDRCxHQUNDLEVBQ0QsR0FDQyxFQUNELEdBQ0MsRUFDRCxHQUNDLEVBQ0QsR0FDQyxFQUNELEdBQ0MsRUFDRCxHQUNDLEdBQ0EsR0FDQSxFQUNELEdBQ0MsR0FDQSxHQUNBLEVBQ0QsR0FDQyxHQUNBLEdBQ0EsRUFDRCxHQUNDLEdBQ0EsR0FDQSxFQUNELEdBQ0MsRUFDRCxFQUNBLEdBQ0MsR0FDQSxFQUNELEVBQ0EsR0FDQyxHQUNBLEVBQ0QsRUFDQSxHQUNDLEdBQ0EsRUFDRCxFQUNBLEdBQ0MsR0FDQSxHQUNBLEVBQ0QsR0FDQyxHQUNBLEdBQ0EsRUFDRCxHQUNDLEdBQ0EsR0FDQSxFQUNELEdBQ0MsR0FDQSxHQUNBLEVBQ0QsR0FDQyxHQUNBLEVBQ0QsR0FDQyxHQUNBLEdBQ0EsRUFDRCxHQUNDLEdBQ0EsR0FDQSxFQUNELEdBQ0MsR0FDQSxHQUNBLEVBQ0QsR0FDQyxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUNBLEdBQ0EsR0FDQSxHQUVMbEIsUUFBUW1CLGNBQWdCLENBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxHQUVKbkIsUUFBUW9CLGNBQWdCLENBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLElBQ0EsR0FDQSxJQUNBLEdBQ0EsSUFDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsR0FDQSxLQUNBLEdBQ0EsS0FDQSxHQUNBLEtBQ0EsR0FDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxHQUVKcEIsUUFBUXFCLGNBQWdCLENBQ3BCLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsR0FDQSxFQUNBLEdBQ0EsRUFDQSxHQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxJQUNBLEVBQ0EsSUFDQSxFQUNBLElBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxLQUNBLEVBQ0EsS0FDQSxFQUNBLEtBQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsTUFDQSxFQUNBLE1BQ0EsRUFDQSxNQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEVBQ0EsT0FDQSxFQUNBLE9BQ0EsRUFDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxNQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLEdBQ0EsT0FDQSxHQUNBLE9BQ0EsR0FDQSxPQUNBLElBRUpyQixRQUFRc0IsSUFBTSxDQUNWLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUVKdEIsUUFBUXVCLElBQU0sQ0FDVixFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsR0FFSnZCLFFBQVF3QixJQUFNLENBQ1YsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxHQUNDLEVBQ0QsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEdBQ0MsRUFDRCxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsRUFDQSxFQUNBLEVBQ0EsR0FDQyxFQUNELEVBQ0EsRUFDQSIsImZpbGUiOiIvaG9tZS9iZW4vU29mdHdhcmUvcHJvamVjdHMvYXN0ZXJvaWRhbC1sYW5kZXItZ2gvbm9kZV9tb2R1bGVzL29wZW4tc2ltcGxleC1ub2lzZS9saWIvY29uc3RhbnRzLmpzIn0=",
    "\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=require(\"./constants\"),Contribution2=function(){return function(t,n,s){this.dx=-n-t*constants_1.SQUISH_2D,this.dy=-s-t*constants_1.SQUISH_2D,this.xsb=n,this.ysb=s}}(),Contribution3=function(){return function(t,n,s,o){this.dx=-n-t*constants_1.SQUISH_3D,this.dy=-s-t*constants_1.SQUISH_3D,this.dz=-o-t*constants_1.SQUISH_3D,this.xsb=n,this.ysb=s,this.zsb=o}}(),Contribution4=function(){return function(t,n,s,o,r){this.dx=-n-t*constants_1.SQUISH_4D,this.dy=-s-t*constants_1.SQUISH_4D,this.dz=-o-t*constants_1.SQUISH_4D,this.dw=-r-t*constants_1.SQUISH_4D,this.xsb=n,this.ysb=s,this.zsb=o,this.wsb=r}}();function shuffleSeed(t){var n=new Uint32Array(1);return n[0]=1664525*t[0]+1013904223,n}var OpenSimplexNoise=function(){function t(t){this.initialize(),this.perm=new Uint8Array(256),this.perm2D=new Uint8Array(256),this.perm3D=new Uint8Array(256),this.perm4D=new Uint8Array(256);for(var n=new Uint8Array(256),s=0;s<256;s++)n[s]=s;var o=new Uint32Array(1);o[0]=t,o=shuffleSeed(shuffleSeed(shuffleSeed(o)));for(s=255;s>=0;s--){o=shuffleSeed(o);var r=new Uint32Array(1);r[0]=(o[0]+31)%(s+1),r[0]<0&&(r[0]+=s+1),this.perm[s]=n[r[0]],this.perm2D[s]=14&this.perm[s],this.perm3D[s]=this.perm[s]%24*3,this.perm4D[s]=252&this.perm[s],n[r[0]]=n[s]}}return t.prototype.array2D=function(t,n){for(var s=new Array(t),o=0;o<t;o++){s[o]=new Array(n);for(var r=0;r<n;r++)s[o][r]=this.noise2D(o,r)}return s},t.prototype.array3D=function(t,n,s){for(var o=new Array(t),r=0;r<t;r++){o[r]=new Array(n);for(var a=0;a<n;a++){o[r][a]=new Array(s);for(var i=0;i<s;i++)o[r][a][i]=this.noise3D(r,a,i)}}return o},t.prototype.array4D=function(t,n,s,o){for(var r=new Array(t),a=0;a<t;a++){r[a]=new Array(n);for(var i=0;i<n;i++){r[a][i]=new Array(s);for(var e=0;e<s;e++){r[a][i][e]=new Array(o);for(var D=0;D<o;D++)r[a][i][e][D]=this.noise4D(a,i,e,D)}}}return r},t.prototype.noise2D=function(t,n){for(var s=(t+n)*constants_1.STRETCH_2D,o=t+s,r=n+s,a=Math.floor(o),i=Math.floor(r),e=(a+i)*constants_1.SQUISH_2D,D=t-(a+e),_=n-(i+e),c=o-a,p=r-i,u=c+p,h=c-p+1|u<<1|u+p<<2|u+c<<4,l=0,f=this.lookup2D[h];void 0!==f;f=f.next){var y=D+f.dx,d=_+f.dy,b=2-y*y-d*d;if(b>0){var S=a+f.xsb,v=i+f.ysb,x=this.perm[255&S],w=this.perm2D[x+v&255];l+=b*b*b*b*(constants_1.gradients2D[w]*y+constants_1.gradients2D[w+1]*d)}}return l*constants_1.NORM_2D},t.prototype.noise3D=function(t,n,s){for(var o=(t+n+s)*constants_1.STRETCH_3D,r=t+o,a=n+o,i=s+o,e=Math.floor(r),D=Math.floor(a),_=Math.floor(i),c=(e+D+_)*constants_1.SQUISH_3D,p=t-(e+c),u=n-(D+c),h=s-(_+c),l=r-e,f=a-D,y=i-_,d=l+f+y,b=f-y+1|l-f+1<<1|l-y+1<<2|d<<3|d+y<<5|d+f<<7|d+l<<9,S=0,v=this.lookup3D[b];void 0!==v;v=v.next){var x=p+v.dx,w=u+v.dy,m=h+v.dz,U=2-x*x-w*w-m*m;if(U>0){var g=e+v.xsb,k=D+v.ysb,A=_+v.zsb,C=this.perm[255&g],H=this.perm[C+k&255],M=this.perm3D[H+A&255];S+=U*U*U*U*(constants_1.gradients3D[M]*x+constants_1.gradients3D[M+1]*w+constants_1.gradients3D[M+2]*m)}}return S*constants_1.NORM_3D},t.prototype.noise4D=function(t,n,s,o){for(var r=(t+n+s+o)*constants_1.STRETCH_4D,a=t+r,i=n+r,e=s+r,D=o+r,_=Math.floor(a),c=Math.floor(i),p=Math.floor(e),u=Math.floor(D),h=(_+c+p+u)*constants_1.SQUISH_4D,l=t-(_+h),f=n-(c+h),y=s-(p+h),d=o-(u+h),b=a-_,S=i-c,v=e-p,x=D-u,w=b+S+v+x,m=v-x+1|S-v+1<<1|S-x+1<<2|b-S+1<<3|b-v+1<<4|b-x+1<<5|w<<6|w+x<<8|w+v<<11|w+S<<14|w+b<<17,U=0,g=this.lookup4D[m];void 0!==g;g=g.next){var k=l+g.dx,A=f+g.dy,C=y+g.dz,H=d+g.dw,M=2-k*k-A*A-C*C-H*H;if(M>0){var I=_+g.xsb,Q=c+g.ysb,z=p+g.zsb,P=u+g.wsb,O=this.perm[255&I],R=this.perm[O+Q&255],T=this.perm[R+z&255],N=this.perm4D[T+P&255];U+=M*M*M*M*(constants_1.gradients4D[N]*k+constants_1.gradients4D[N+1]*A+constants_1.gradients4D[N+2]*C+constants_1.gradients4D[N+3]*H)}}return U*constants_1.NORM_4D},t.prototype.initialize=function(){for(var t=[],n=0;n<constants_1.p2D.length;n+=4){for(var s=constants_1.base2D[constants_1.p2D[n]],o=null,r=null,a=0;a<s.length;a+=3)r=new Contribution2(s[a],s[a+1],s[a+2]),null===o?t[n/4]=r:o.next=r,o=r;r.next=new Contribution2(constants_1.p2D[n+1],constants_1.p2D[n+2],constants_1.p2D[n+3])}this.lookup2D=[];for(n=0;n<constants_1.lookupPairs2D.length;n+=2)this.lookup2D[constants_1.lookupPairs2D[n]]=t[constants_1.lookupPairs2D[n+1]];var i=[];for(n=0;n<constants_1.p3D.length;n+=9){for(s=constants_1.base3D[constants_1.p3D[n]],o=null,r=null,a=0;a<s.length;a+=4)r=new Contribution3(s[a],s[a+1],s[a+2],s[a+3]),null===o?i[n/9]=r:o.next=r,o=r;r.next=new Contribution3(constants_1.p3D[n+1],constants_1.p3D[n+2],constants_1.p3D[n+3],constants_1.p3D[n+4]),r.next.next=new Contribution3(constants_1.p3D[n+5],constants_1.p3D[n+6],constants_1.p3D[n+7],constants_1.p3D[n+8])}this.lookup3D=[];for(n=0;n<constants_1.lookupPairs3D.length;n+=2)this.lookup3D[constants_1.lookupPairs3D[n]]=i[constants_1.lookupPairs3D[n+1]];var e=[];for(n=0;n<constants_1.p4D.length;n+=16){for(s=constants_1.base4D[constants_1.p4D[n]],o=null,r=null,a=0;a<s.length;a+=5)r=new Contribution4(s[a],s[a+1],s[a+2],s[a+3],s[a+4]),null===o?e[n/16]=r:o.next=r,o=r;r.next=new Contribution4(constants_1.p4D[n+1],constants_1.p4D[n+2],constants_1.p4D[n+3],constants_1.p4D[n+4],constants_1.p4D[n+5]),r.next.next=new Contribution4(constants_1.p4D[n+6],constants_1.p4D[n+7],constants_1.p4D[n+8],constants_1.p4D[n+9],constants_1.p4D[n+10]),r.next.next.next=new Contribution4(constants_1.p4D[n+11],constants_1.p4D[n+12],constants_1.p4D[n+13],constants_1.p4D[n+14],constants_1.p4D[n+15])}this.lookup4D=[];for(n=0;n<constants_1.lookupPairs4D.length;n+=2)this.lookup4D[constants_1.lookupPairs4D[n]]=e[constants_1.lookupPairs4D[n+1]]},t}();exports.default=OpenSimplexNoise;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiY29uc3RhbnRzXzEiLCJyZXF1aXJlIiwiQ29udHJpYnV0aW9uMiIsIm11bHRpcGxpZXIiLCJ4c2IiLCJ5c2IiLCJ0aGlzIiwiZHgiLCJTUVVJU0hfMkQiLCJkeSIsIkNvbnRyaWJ1dGlvbjMiLCJ6c2IiLCJTUVVJU0hfM0QiLCJkeiIsIkNvbnRyaWJ1dGlvbjQiLCJ3c2IiLCJTUVVJU0hfNEQiLCJkdyIsInNodWZmbGVTZWVkIiwic2VlZCIsIm5ld1NlZWQiLCJVaW50MzJBcnJheSIsIk9wZW5TaW1wbGV4Tm9pc2UiLCJjbGllbnRTZWVkIiwiaW5pdGlhbGl6ZSIsInBlcm0iLCJVaW50OEFycmF5IiwicGVybTJEIiwicGVybTNEIiwicGVybTREIiwic291cmNlIiwiaSIsInIiLCJwcm90b3R5cGUiLCJhcnJheTJEIiwid2lkdGgiLCJoZWlnaHQiLCJvdXRwdXQiLCJBcnJheSIsIngiLCJ5Iiwibm9pc2UyRCIsImFycmF5M0QiLCJkZXB0aCIsInoiLCJub2lzZTNEIiwiYXJyYXk0RCIsIndMZW5ndGgiLCJ3Iiwibm9pc2U0RCIsInN0cmV0Y2hPZmZzZXQiLCJTVFJFVENIXzJEIiwieHMiLCJ5cyIsIk1hdGgiLCJmbG9vciIsInNxdWlzaE9mZnNldCIsImR4MCIsImR5MCIsInhpbnMiLCJ5aW5zIiwiaW5TdW0iLCJoYXNoIiwiYyIsImxvb2t1cDJEIiwidW5kZWZpbmVkIiwibmV4dCIsImF0dG4iLCJweCIsInB5IiwiaW5kZXhQYXJ0QSIsImluZGV4IiwiZ3JhZGllbnRzMkQiLCJOT1JNXzJEIiwiU1RSRVRDSF8zRCIsInpzIiwiZHowIiwiemlucyIsImxvb2t1cDNEIiwicHoiLCJpbmRleFBhcnRCIiwiZ3JhZGllbnRzM0QiLCJOT1JNXzNEIiwiU1RSRVRDSF80RCIsIndzIiwiZHcwIiwid2lucyIsImxvb2t1cDREIiwicHciLCJpbmRleFBhcnRDIiwiZ3JhZGllbnRzNEQiLCJOT1JNXzREIiwiY29udHJpYnV0aW9uczJEIiwicDJEIiwibGVuZ3RoIiwiYmFzZVNldCIsImJhc2UyRCIsInByZXZpb3VzIiwiY3VycmVudCIsImsiLCJsb29rdXBQYWlyczJEIiwiY29udHJpYnV0aW9uczNEIiwicDNEIiwiYmFzZTNEIiwibG9va3VwUGFpcnMzRCIsImNvbnRyaWJ1dGlvbnM0RCIsInA0RCIsImJhc2U0RCIsImxvb2t1cFBhaXJzNEQiLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoiQUFBQSxhQUNBQSxPQUFPQyxlQUFlQyxRQUFTLGFBQWMsQ0FBRUMsT0FBTyxJQUN0RCxJQUFJQyxZQUFjQyxRQUFRLGVBQ3RCQyxjQUErQixXQU8vQixPQU5BLFNBQXVCQyxFQUFZQyxFQUFLQyxHQUNwQ0MsS0FBS0MsSUFBTUgsRUFBTUQsRUFBYUgsWUFBWVEsVUFDMUNGLEtBQUtHLElBQU1KLEVBQU1GLEVBQWFILFlBQVlRLFVBQzFDRixLQUFLRixJQUFNQSxFQUNYRSxLQUFLRCxJQUFNQSxHQUxlLEdBUzlCSyxjQUErQixXQVMvQixPQVJBLFNBQXVCUCxFQUFZQyxFQUFLQyxFQUFLTSxHQUN6Q0wsS0FBS0MsSUFBTUgsRUFBTUQsRUFBYUgsWUFBWVksVUFDMUNOLEtBQUtHLElBQU1KLEVBQU1GLEVBQWFILFlBQVlZLFVBQzFDTixLQUFLTyxJQUFNRixFQUFNUixFQUFhSCxZQUFZWSxVQUMxQ04sS0FBS0YsSUFBTUEsRUFDWEUsS0FBS0QsSUFBTUEsRUFDWEMsS0FBS0ssSUFBTUEsR0FQZSxHQVc5QkcsY0FBK0IsV0FXL0IsT0FWQSxTQUF1QlgsRUFBWUMsRUFBS0MsRUFBS00sRUFBS0ksR0FDOUNULEtBQUtDLElBQU1ILEVBQU1ELEVBQWFILFlBQVlnQixVQUMxQ1YsS0FBS0csSUFBTUosRUFBTUYsRUFBYUgsWUFBWWdCLFVBQzFDVixLQUFLTyxJQUFNRixFQUFNUixFQUFhSCxZQUFZZ0IsVUFDMUNWLEtBQUtXLElBQU1GLEVBQU1aLEVBQWFILFlBQVlnQixVQUMx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WUFBWTBHLElBQUkzRSxFQUFJLEdBQUkvQixZQUFZMEcsSUFBSTNFLEVBQUksR0FBSS9CLFlBQVkwRyxJQUFJM0UsRUFBSSxHQUFJL0IsWUFBWTBHLElBQUkzRSxFQUFJLElBQ3JKbUUsRUFBUWhDLEtBQUtBLEtBQU8sSUFBSXBELGNBQWNkLFlBQVkwRyxJQUFJM0UsRUFBSSxHQUFJL0IsWUFBWTBHLElBQUkzRSxFQUFJLEdBQUkvQixZQUFZMEcsSUFBSTNFLEVBQUksR0FBSS9CLFlBQVkwRyxJQUFJM0UsRUFBSSxHQUFJL0IsWUFBWTBHLElBQUkzRSxFQUFJLEtBQzFKbUUsRUFBUWhDLEtBQUtBLEtBQUtBLEtBQU8sSUFBSXBELGNBQWNkLFlBQVkwRyxJQUFJM0UsRUFBSSxJQUFLL0IsWUFBWTBHLElBQUkzRSxFQUFJLElBQUsvQixZQUFZMEcsSUFBSTNFLEVBQUksSUFBSy9CLFlBQVkwRyxJQUFJM0UsRUFBSSxJQUFLL0IsWUFBWTBHLElBQUkzRSxFQUFJLEtBRXZLekIsS0FBS2lGLFNBQVcsR0FDaEIsSUFBU3hELEVBQUksRUFBR0EsRUFBSS9CLFlBQVk0RyxjQUFjZCxPQUFRL0QsR0FBSyxFQUN2RHpCLEtBQUtpRixTQUFTdkYsWUFBWTRHLGNBQWM3RSxJQUFNMEUsRUFBZ0J6RyxZQUFZNEcsY0FBYzdFLEVBQUksS0FHN0ZULEVBblEwQixHQXFRckN4QixRQUFRK0csUUFBVXZGIiwiZmlsZSI6Ii9ob21lL2Jlbi9Tb2Z0d2FyZS9wcm9qZWN0cy9hc3Rlcm9pZGFsLWxhbmRlci1naC9ub2RlX21vZHVsZXMvb3Blbi1zaW1wbGV4LW5vaXNlL2xpYi9pbmRleC5qcyJ9",
    "import OpenSimplexNoise from \"open-simplex-noise\";\nimport { Vec2 } from \"./engine/vmath.js\";\nimport { Polygon } from \"./shape.js\";\nimport { ceilPow, mapMinMax } from \"./utils.js\";\n\nfunction multiOctave(gen, octaves) {\n    return function(...args) {\n        return octaves.reduce((sum, octave) => (\n            sum + octave.mag * Math.pow(gen(...args.map(\n                arg => arg * octave.freq\n            )), octave.pow)\n        ), 0);\n    }\n}\n\nfunction coolSpots(radii, sectors, opts) {\n    /** Finds cool spots on the asteroid's surface\n     * Returns an array of the indices of the cool spots, which are\n     * distributed uniformly across the surface of the asteroid.  This\n     * is done by dividing the surface of the asteroid into `sectors`\n     * sectors and finding the local maxima of coolness in each sector.\n     *\n     * Craters and ledges are considered particularly cool.\n     * The code for this function, however, is considered very uncool.\n     **/\n\n    opts = opts || {};\n\n    // Flatness threshold\n    var fthresh = opts.fthresh || 10;\n\n    var cool = [];\n\n    // Skip the first index, since we don't know if the last index will\n    // be cool or not, so it's best to just ignore the first one.\n    // As an added advantage, it means we don't need to deal with\n    // negative indices in checking the previous index.\n    var i = 1;\n    for (var sector = 0; sector < sectors; sector++) {\n        var end = Math.floor((sector + 1) / sectors * radii.length);\n\n        var maxIndex = -1;\n        var maxScore = -Infinity;\n        for (; i < end; i++) {\n            var p = radii[i - 1];\n            var s = radii[i];\n            var e = radii[(i + 1) % radii.length];\n            var n = radii[(i + 2) % radii.length];\n\n            var crookedness = Math.max(Math.abs(e - s) - fthresh, 0);\n            var leftDescent = Math.max(p - s, 0);\n            var rightDescent = Math.max(n - e, 0);\n\n            var score = leftDescent + rightDescent - crookedness / 2;\n            if (score > maxScore) {\n                maxIndex = i;\n                maxScore = score;\n            }\n        }\n\n        // It's possible the loop wont run at all if `i` has advanced\n        // past the end of this sector.\n        if (maxIndex !== -1) {\n            cool.push(maxIndex);\n            if (maxIndex === end - 1) i++;\n        }\n    }\n\n    return cool;\n}\n\n// I like this one, but it's very blobby / non circular\n// var defaultOctaves = [\n//     {freq: 1, mag: 1, pow: 1},\n//     {freq: 3, mag: 1/3, pow: 1},\n//     {freq: 6, mag: 1/3, pow: 3},\n// ];\n\n// Not bad, but still a bit blobby and somewhat less cool\n// var defaultOctaves = [\n//     {freq: 1, mag: 1/4, pow: 1},\n//     {freq: 2, mag: 1/2, pow: 1},\n//     {freq: 3, mag: 1/4, pow: 1},\n//     {freq: 6, mag: 1/3, pow: 3},\n// ];\n\n// Non-blobby, but with some cool features here and there\nvar defaultOctaves = [\n    {freq: 1.5, mag: 1/3, pow: 1},\n    {freq: 3, mag: 1/4, pow: 1},\n    {freq: 6, mag: 1/2, pow: 5},\n    {freq: 12, mag: 1/32, pow: 1}\n];\n\n\nexport class Asteroid {\n    constructor(radius, nsides, fillimg, nopts) {\n        nsides = Math.max(3, nsides);\n        this.centralAngle = 2 * Math.PI / nsides;\n        this.fillimg = fillimg;\n\n        nopts = nopts || {};\n        var seed = nopts.seed !== undefined? nopts.seed : +new Date;\n        var octaves = nopts.octaves || defaultOctaves;\n        var noise = new OpenSimplexNoise(seed);\n        var nfunc = multiOctave(noise.noise2D.bind(noise), octaves);\n\n        var radii = new Array(nsides);\n        var units = new Array(nsides);\n\n        // Terrain generation\n        for (var i = 0; i < nsides; i++) {\n            var ux = Math.cos(i * this.centralAngle);\n            var uy = Math.sin(i * this.centralAngle);\n\n            radii[i] = radius * (1 + nfunc(ux, uy) / 2);\n            units[i] = new Vec2(ux, uy);\n        }\n\n        this.cool = coolSpots(radii, 10);\n        for (var i of this.cool) {\n            var ni = (i + 1) % radii.length;\n\n            // Flatten the cool spot\n            radii[i] = radii[ni] = (radii[i] + radii[ni]) / 2;\n        }\n\n        var extremeRadii = mapMinMax(radii);\n        this.minRadius = extremeRadii.min;\n        this.maxRadius = extremeRadii.max;\n\n        units.forEach((u, i) => u.imul(radii[i]));\n        this.shape = new Polygon(units);\n        this.length = nsides;\n\n        // TODO: currently asteroid pos is almost totally ignored\n        // The only reason I have it is so that I can write code that\n        // pretends as if asteroids have a position and are not always\n        // at the origin.  It shouldn't be hard to make asteroids use\n        // the pos themselves, but I'm too lazy right now.\n        this.pos = new Vec2;\n\n        // Gravitational factor of the asteroid.  This is G * mass.\n        // Would be nice to pass this in to the constructor, but right\n        // now I'm fine with all asteroids having the same fixed grav.\n        this.grav = 300;\n    }\n\n    getSlice(obj) {\n        // Return low and high index bounds for an object near by the\n        // asteroid.  The bounds may be the same index.\n        var dist = obj.pos.sub(this.pos).mag();\n        var angle = this.angleFor(obj.pos);\n        var angularRadius = Math.atan(obj.shape.radius / dist);\n\n        return [\n            this.indexForAngle(angle - angularRadius),\n            this.indexForAngle(angle + angularRadius)\n        ]\n    }\n\n    angleFor(pos) {\n        return Math.atan2(pos.y - this.pos.y, pos.x - this.pos.x);\n    }\n\n    indexForAngle(angle) {\n        return Math.floor(angle / this.centralAngle);\n    }\n\n    normalizeIndex(idx) {\n        idx %= this.length;\n        return idx < 0? this.length + idx : idx;\n    }\n\n    getPoint(idx) {\n        return this.shape.points[this.normalizeIndex(idx)];\n    }\n\n    isCool(idx) {\n        idx = this.normalizeIndex(idx);\n\n        // It's basically stupid to do a binary search here because\n        // there are only ever going to be like 10 cool spots, but even\n        // if it ends up being slower in practice, it doesn't really\n        // matter and binary searches are cool, so it's fitting I guess.\n        var lo = 0;\n        var hi = this.cool.length - 1;\n        while (lo <= hi) {\n            var mid = (lo + hi) >> 1;\n            if      (this.cool[mid] < idx) lo = mid + 1;\n            else if (this.cool[mid] > idx) hi = mid - 1;\n            else return true;\n        }\n\n        return false;\n    }\n\n    draw(ctx, cam) {\n        ctx.save();\n\n        this.shape.trace(ctx);\n\n        ctx.fillStyle = ctx.createPattern(this.fillimg, \"repeat\");\n\n        var fz = 1 / ceilPow(cam.scale);\n        ctx.save(); ctx.scale(fz, fz); ctx.fill(); ctx.restore();\n\n        ctx.lineWidth = cam.scale < 1? 1/cam.scale : 1;\n        ctx.strokeStyle = \"#FFF\";\n        ctx.stroke();\n\n        ctx.lineWidth *= 2.5;\n        ctx.strokeStyle = \"#F08\";\n        for (var i of this.cool) {\n            ctx.beginPath();\n            ctx.moveTo(...this.getPoint(i));\n            ctx.lineTo(...this.getPoint(i + 1));\n            ctx.stroke();\n        }\n\n        ctx.restore();\n    }\n}\n",
    "import { Vec2 } from \"./vmath.js\";\n\n// TODO: Maybe Camera should be more smarter about canvas size.  That's\n// part of what this.view is for, but you need to set it manually.\nexport class Camera {\n    constructor(focus, zoom, rotation) {\n        this.focus = focus? Vec2.from(focus) : new Vec2;\n        this._target = null;\n        this.zoom = zoom !== undefined? zoom : 1;\n        this.view = 1;\n        this._za = null;\n        this.rotation = rotation || 0;\n    }\n\n    get scale() {\n        return this.view * this.zoom;\n    }\n\n    follow(target) {\n        this._target = target;\n    }\n\n    animZoom(target, time, force) {\n        if (!this._za || force) this._za = {target: target, time: time};\n    }\n\n    update(dt) {\n        // TODO: chase the target rather than being locked on.\n        // Or at least have that be an option\n        this.focus.set(...this._target.pos);\n\n        // TODO: rotate, focus transitions (focus should unset target)\n        if (this._za) {\n            if (dt >= this._za.time) {\n                this.zoom = this._za.target;\n                this._za = null;\n            } else {\n                this.zoom *= Math.pow(\n                    this._za.target / this.zoom,\n                    dt / this._za.time\n                );\n\n                this._za.time -= dt;\n            }\n        }\n    }\n\n    applyTransform(ctx) {\n        this.update(0);  // Apply instantaneous transitions\n        ctx.scale(this.scale, this.scale);\n        ctx.rotate(this.rotation);\n        ctx.translate(-this.focus.x, -this.focus.y);\n    }\n}\n",
    "export function lscol(a, b, c, d) {\n    /** Test if and where two line segments intersect\n     * a, b, c, and d are vectors that represent the endpoints of the\n     * two line segments AB and CD.\n     **/\n\n    // Explanation of the non-parallel case:\n    // a + (b-a)s = c + (d-c)t\n    // c-a = (b-a)s - (d-c)t\n    // (c-a)x(d-c) = (b-a)x(d-c)s - (0)\n    // (c-a)x(b-a) = (0) - (d-c)x(b-a)t = (b-a)x(d-c)t\n    // s = (c-a)x(d-c) / (b-a)x(d-c), 0 <= s <= 1 -> intersection\n    // t = (c-a)x(b-a) / (b-a)x(d-c), 0 <= t <= 1 -> intersection\n\n    var ab = b.sub(a);\n    var ac = c.sub(a);\n    var cd = d.sub(c);\n\n    var den = ab.cross(cd);\n\n    if (den === 0) {  // Line segments are parallel\n        if (ac.cross(cd) !== 0) return null;\n\n        var ad = d.sub(a);\n        var bc = c.sub(b);\n        var bd = d.sub(b);\n\n        // Using dot to test whether directions are opposite\n        if (ac.dot(ad) <= 0) return { colinear: true, point: a };\n        if (bc.dot(bd) <= 0) return { colinear: true, point: b };\n        if (ac.dot(bc) <= 0) return { colinear: true, point: c };\n\n        return null;\n    }\n\n    var s = ac.cross(cd) / den;\n    if (s < 0 || s > 1) return null;\n    var t = ac.cross(ab) / den;\n    if (t < 0 || t > 1) return null;\n\n    return {\n        colinear: false,\n        point: a.add(ab.mul(s))\n    };\n}\n\n\nexport function rtripolycol(o, p, q, poly) {\n    /** Test if and where a radial triangle and polygon collide\n     * This is an utterly horrifying and likely very inefficient form of\n     * collision detection.  However I think it's somewhat justified\n     * because I'm not just looking for collisions, I'm also trying to\n     * make sure that the ship gets spit out in a very particular way.\n     *\n     * The ship always should move away from the origin point `o` with\n     * this function, but depending on how the polygon is colliding, it\n     * may move along the normal of the surface pq or along the radial\n     * sides op or oq.\n     **/\n\n    var norm = p.sub(q).perp().unit();\n    var op = p.sub(o).unit();\n    var oq = q.sub(o).unit();\n\n    var surf = norm.dot(p);\n    var plo = op.cross(p);  // Lowest cross with op inside the triangle\n    var qhi = oq.cross(q);  // Highest cross with oq inside the triangle\n\n    var rp = op.dot(p);\n    var rq = oq.dot(q);\n\n    var maxDepth = 0;\n    var out = null;\n    var pivot = null;\n    var intersections = [];\n\n    for (var i = 0; i < poly.length; i++) {\n        var start = poly[i];\n        var end = poly[(i + 1) % poly.length];\n        var edge = end.sub(start);\n\n        // test if start inside triangle\n        var jp = op.cross(start);\n        var jq = oq.cross(start);\n        var jn = norm.dot(start);\n\n        if (jp > plo && jq < qhi && jn < surf) {\n            var depth = surf - jn;\n            if (depth > maxDepth) {\n                maxDepth = depth;\n                out = norm;\n                pivot = start;\n            }\n\n            intersections.push(start);\n        }\n\n        // test if edge intersects op\n        var result = lscol(start, end, o, p);\n        if (result) {\n            // If it's colinear, it might be better to use whichever of\n            // start or end is lowest, but I don't think it matters too\n            // much, so I'm not going to bother.\n\n            var depth = rp - op.dot(result.point);\n            if (depth > maxDepth) {\n                maxDepth = depth;\n                out = op;\n                pivot = result.point;\n            }\n\n            intersections.push(result.point);\n        }\n\n        // test if edge intersects oq\n        var result = lscol(start, end, o, q);\n        if (result) {\n            var depth = rq - oq.dot(result.point);\n            if (depth > maxDepth) {\n                maxDepth = depth;\n                out = oq;\n                pivot = result.point;\n            }\n\n            intersections.push(result.point);\n        }\n\n        // Not important for collision detection, but gives us\n        // additional points of intersection\n        var result = lscol(start, end, p, q);\n        if (result) intersections.push(result.point);\n    }\n\n    if (!out) return null;\n    return {\n        norm: out,\n        pivot: pivot,\n        depth: maxDepth,\n        intersections: intersections\n    }\n}\n",
    "export function drawWrapper(ctx, func) {\n    ctx.save();\n\n    try {\n        return func();\n    } finally {\n        ctx.restore();\n    }\n}\n\nexport function resetTransform(ctx) {\n    ctx.setTransform(1, 0, 0, 1, 0, 0);\n}\n\nexport function background(ctx, fillStyle) {\n    ctx.save();\n    resetTransform(ctx);\n    ctx.fillStyle = fillStyle;\n    ctx.fillRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n    ctx.restore();\n}\n\nexport function createImage(dim, func) {\n    var canvas = document.createElement(\"canvas\");\n    [canvas.width, canvas.height] = dim;\n    var ctx = canvas.getContext(\"2d\");\n    func(ctx);\n\n    return new Promise(function(resolve, reject) {\n        var img = new Image();\n        // TODO: maybe use toBlob in browsers that support it?  Storing\n        // the image as a data url seems somewhat inefficient.\n        // We could also just return the canvas itself and skip all the\n        // asynchronous shit, but IDK, I like the idea of returning an\n        // image.\n        // There's also the createImageBitmap function which returns a\n        // special ImageBitmap type.  It is also asynchronous, which is\n        // ok I guess, but like ctx.toBlob, it has poor cross-browser\n        // support.\n        img.src = canvas.toDataURL(\"image/png\");\n        img.addEventListener(\"load\", function() {\n            resolve(img);\n        });\n\n        img.addEventListener(\"error\", function(event) {\n            // I don't think this will ever actually be called since\n            // we're just loading a data url, but whatever...\n            reject(event);\n        });\n    });\n}\n",
    "/** The Game object stores global game state. */\n\nimport { createKeyStore } from \"./keyboard.js\";\n\nexport class Game {\n    constructor(canvas, theme) {\n        theme = theme || {};\n\n        this._canvas = canvas;\n\n        // The theme is used by generic scenes such as the loading scene\n        // so that appropriate colors and fonts can be used.\n        this.theme = {\n            bg: theme.bg || \"#FFF\",\n            fg: theme.fg || \"#000\",\n            fontFace: theme.fontFace || \"sans\"\n        }\n\n        this.keys = createKeyStore(canvas);\n        this.mouse = null; // TODO\n\n        // For storing global resources.\n        this.rc = {};\n    }\n\n    get width() {\n        return this._canvas.width;\n    }\n\n    get height() {\n        return this._canvas.height;\n    }\n\n    get minDim() {\n        return Math.min(this.width, this.height);\n    }\n\n    get maxDim() {\n        return Math.max(this.width, this.height);\n    }\n}\n",
    "// Some browsers use (or used in the past) nonstandard names for keys.\n// https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\nconst standardNames = {\n    \"OS\": \"Meta\",  // Could also be Super or Hyper\n    \"Scroll\": \"ScrollLock\",\n    \" \": \"Spacebar\",  // This is a nonstandard name, but I prefer it (*)\n    \"Up\": \"ArrowUp\",\n    \"Down\": \"ArrowDown\",\n    \"Left\": \"ArrowLeft\",\n    \"Right\": \"ArrowRight\",\n    \"Del\": \"Delete\",\n    \"Crsel\": \"CrSel\",\n    \"Exsel\": \"ExSel\",\n    \"Esc\": \"Escape\",\n    \"Apps\": \"ContextMenu\",\n    \"Nonconvert\": \"NonConvert\",\n    \"RomanCharacters\": \"Romaji\",  // In FF <37, this also catches Eisu\n    \"HalfWidth\": \"Hankaku\",\n    \"FullWidth\": \"Zenkaku\",\n    \"MozHomeScreen\": \"GoHome\",\n    \"MediaNextTrack\": \"MediaTrackNext\",\n    \"MediaPreviousTrack\": \"MediaTrackPrevious\",\n    \"FastFwd\": \"MediaFastForward\",\n    \"VolumeUp\": \"AudioVolumeUp\",\n    \"VolumeDown\": \"AudioVolumeDown\",\n    \"VolumeMute\": \"AudioVolumeMute\",\n    \"Live\": \"TV\",\n    \"Zoom\": \"ZoomToggle\",\n    \"SelectMedia\": \"LaunchMediaPlayer\",\n    \"MediaSelect\": \"LaunchMediaPlayer\",\n    \"Decimal\": \".\",  // This really should depend on locale\n    \"Multiply\": \"*\",\n    \"Add\": \"+\",\n    \"Divide\": \"/\",\n    \"Subtract\": \"-\"\n}\n\n// (*) Using Spacebar as the name makes sense to use in this particular\n// case.  Having a key name consisting of whitespace is a bit annoying\n// because in order to display the keys pressed to the user (such as in\n// a game's keyboard configuration), you would need to put quotes around\n// it or something.  I also think keyboard.Spacebar looks nicer and more\n// readable than keyboard[\" \"] in the code.\n// Obviously it would be less convenient if you wanted to know the text\n// that was being typed, but that's not what the keyboard object is for.\n// TODO: I should maybe rethink this though, now that I also keep track\n// of event.code, I also have $Space for the physical space key (which\n// should be equivalent to event.key's \" \" on any sane keyboard layout).\n\nexport function getName(event) {\n    var name = event.key || \"Unidentified\";\n    if (name.length === 1) name = name.toUpperCase();\n    return standardNames[name] || name;\n}\n\nexport function getCode(event) {\n    var code = event.code || \"Unidentified\";\n    return \"$\" + code;\n}\n\nexport function createKeyStore(canvas) {\n    /** Keep track of the currently pressed keys\n     * Returns an object that will be updated with the currently pressed\n     * keys.  For every key that is pressed, two entries will be added\n     * to the object set to a truthy value, allowing you to check for\n     * key presses both by key name (KeyboardEvent.key) in addition to\n     * key code (KeyboardEvent.code).  Key codes are prefixed with a `$`\n     * symbol to distinguish them from key names, and key names may also\n     * be different from those obtained from KeyboardEvent.key.\n     * Specifically, key names for the letter keys are all capitalized,\n     * the key for the space character is renamed to `Spacebar`, and\n     * non-standard key names are replaced with their standard name.\n     *\n     * getName or getCode should be used if you want to store key names\n     * or codes obtained from events to test for later in the key store.\n     **/\n\n    var keys = {};\n\n    if (!canvas.hasAttribute(\"tabindex\")) {\n        canvas.setAttribute(\"tabindex\", \"0\");\n    }\n\n    canvas.addEventListener(\"keydown\", function(event) {\n        var keyName = getName(event);\n        var codeName = getCode(event);\n        keys[keyName] |= 1 << event.location;\n        keys[codeName] = true;\n        event.preventDefault();\n    }, false);\n\n    canvas.addEventListener(\"keyup\", function(event) {\n        var keyName = getName(event);\n        var codeName = getCode(event);\n\n        // Remove the key only if no alternative version of the key is\n        // being pressed.  This is really the whole reason I keep track\n        // of the key location, so that in cases such as when the user\n        // presses both left and right control keys and lets go of one\n        // of them, the game will remember that one of the control keys\n        // is still pressed.  Maybe it's silly to care about such cases,\n        // but I don't care, it feels right.\n        keys[keyName] &= ~(1 << event.location);\n        if (!keys[keyName]) delete keys[keyName];\n\n        // I don't think we need to worry about alternates for codes\n        // because there are different codes for different locations.\n        if (keys[codeName]) delete keys[codeName];\n\n        event.preventDefault();\n    }, false);\n\n    return keys;\n}\n",
    "import { Scene } from \"./scene.js\";\nimport { background } from \"./ctxlib.js\";\nimport * as resources from \"./resources.js\";\n\nexport class LoadGlobalResources extends Scene {\n    init(rcmap, nextScene) {\n        this.ignoreBlur = true;\n\n        this.time = 0;\n\n        this.done = false;\n        this.failed = false;\n        resources.load(rcmap, this.game.rc).then(\n            () => { this.done = true; },\n            reason => {\n                this.failed = true;\n                throw reason;\n            }\n        );\n\n        this.nextScene = nextScene;\n    }\n\n    update(dt) {\n        this.time += dt;\n        if (this.done) return this.nextScene;\n    }\n\n    draw(ctx) {\n        background(ctx, this.game.theme.bg);\n\n        if (this.done || this.time < 100) return;\n\n        var s = Math.min(this.game.width, this.game.height)\n        var t = this.time / 150 - Math.PI / 2;\n\n        ctx.fillStyle = this.game.theme.fg;\n\n        ctx.font = \"20pt \" + this.game.theme.fontFace + \", sans\";\n        ctx.textAlign = \"center\";\n        ctx.textBaseline = \"top\";\n\n        ctx.fillText(\n            this.failed? \"Failed to load resources!\" : \"Loading...\",\n            this.game.width / 2, 5, this.game.width\n        );\n\n        if (this.failed) return;\n\n        ctx.strokeStyle = \"hsl(\" +\n            360 * (Math.sin(t / 4) + 1) / 2 +\n            \", 50%, 50%)\";\n\n        ctx.lineWidth = s / 32;\n        ctx.lineCap = \"round\";\n\n        ctx.beginPath();\n        ctx.arc(\n            this.game.width / 2, this.game.height / 2,\n            s / 8, t - Math.PI / 2, t\n        )\n        ctx.stroke();\n    }\n}\n",
    "import { drawWrapper } from \"./ctxlib.js\";\n\nexport class GameLoop {\n    constructor(canvas, opts) {\n        opts = opts || {};\n\n        this.canvas = canvas;\n        this.ctx = canvas.getContext(\"2d\");\n\n        // Default max time step of 35 allows for 30 fps with a little\n        // extra slop over time.  RAF is typically 60 fps though.\n        this.maxTimeStep = opts.maxTimeStep || 35;\n\n        // TODO: more time step options (such as doing multiple updates\n        // in a frame as a strategy for dealing with lag spikes)\n\n        // TODO: I'm starting to think that maybe scenes should be\n        // responsible for all this loop option stuff.  The GameLoop\n        // could call a wrapper method rather than directly calling\n        // update, giving it the true dt and the Scene could decide what\n        // to do with that information.\n        // A similar thing could be done with draw, though the\n        // applications are more limited.  It would mostly just be\n        // useful to automatically show a click to focus overlay on\n        // certain scenes (wouldn't want it on every scene though).\n\n        this.lastTime = -Infinity;\n        this.focused = false;\n    }\n\n    start(game, scene) {\n        // Fix dimensions of canvas before initial scene is constructed.\n        this.adjustDimensions();\n        this.scene = scene.construct(game);\n        requestAnimationFrame(this._mainLoop.bind(this, true));\n    }\n\n    adjustDimensions() {\n        var resized = false;\n\n        if (this.canvas.width !== this.canvas.clientWidth) {\n            this.canvas.width = this.canvas.clientWidth;\n            resized = true;\n        }\n\n        if (this.canvas.height !== this.canvas.clientHeight) {\n            this.canvas.height = this.canvas.clientHeight;\n            resized = true;\n        }\n\n        return resized;\n    }\n\n    _mainLoop(firstFrame, time) {\n        requestAnimationFrame(this._mainLoop.bind(this, false));\n\n        var scene = this.scene;\n\n        var prevFocused = this.focused;\n        this.focused = document.hasFocus() || scene.ignoreBlur;\n\n        var resized = this.adjustDimensions();\n\n        // The first frame after a focus skips the update since no game\n        // time has elapsed while the game has been paused.\n        if (this.focused && prevFocused) {\n            var dt = Math.min(time - this.lastTime, this.maxTimeStep);\n            var nextScene = scene.update(dt);\n            if (nextScene) this.scene = nextScene.construct(scene);\n        }\n\n        // The game needs to be drawn not only when it is focused, but\n        // also when it was previously focused (so that a blur screen\n        // can be drawn) as well as when the game was resized (so that\n        // it gets drawn at the new resolution) and also on the first\n        // frame (so that something shows up in the canvas, even if it\n        // isn't focused)\n        if (this.focused || prevFocused || resized || firstFrame) {\n            drawWrapper(this.ctx, () => {\n                scene.draw(this.ctx, !this.focused);\n            });\n        }\n\n        this.lastTime = time;\n    }\n}\n",
    "function pairsToObj(pairs, obj) {\n    obj = obj || {};\n\n    for (var [k, v] of pairs) {\n        obj[k] = v;\n    }\n\n    return obj;\n}\n\nexport function load(rcmap, obj) {\n    /** Resource loader... kinda\n     * This function doesn't so much manage resources as it does simply\n     * resolve all promises in an object of promises.  But it's useful\n     * for defining named resources as a mapping of names to promises.\n     **/\n\n    // Maybe I should make sure all the promises actually are promises.\n    return Promise.all(Object.keys(rcmap)\n        .filter(Object.prototype.hasOwnProperty.bind(rcmap))\n        .map(key => rcmap[key].then(val => [key, val]))\n    ).then(pairs => pairsToObj(pairs, obj));\n}\n\nexport function getXHR(url) {\n    return new Promise(function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open(\"GET\", url);\n        xhr.onload = () => resolve(xhr)\n        xhr.onerror = () => reject(xhr);\n        xhr.send();\n    });\n}\n\nexport function getJSON(url) {\n    return getXHR(url).then(xhr => JSON.parse(xhr.responseText));\n}\n",
    "class SceneConstructor {\n    /** A dummy object that keeps track of an unconstructed game. */\n\n    constructor(obj, args) {\n        this._obj = obj;\n        this._args = args;\n        this._constructed = false;\n    }\n\n    construct(parentSceneOrGame) {\n        /** Returns a fully constructed scene.\n         * If necessary, initializes the unconstructed scene, providing\n         * it with a game object inheriting from the parent scene if one\n         * is provided, and finally calling the deferred init method.\n         **/\n\n        // This might happen if there are multiple references to an\n        // unconstructed scene.\n        if (this._constructed) return this._obj;\n\n        if (parentSceneOrGame instanceof Scene) {\n            this._obj.game = parentSceneOrGame.game;\n            this._obj.inherit(parentSceneOrGame);\n        } else {\n            this._obj.game = parentSceneOrGame;\n        }\n\n        this._obj.init(...this._args);\n        this._constructed = true;\n        return this._obj;\n    }\n}\n\nexport class Scene {\n    constructor(...args) {\n        /** Deferred scene construction\n         * Takes the same arguments as init, but defers construction\n         * until contextual information is passed to the construct\n         * method.  Note that the Scene constructor DOES NOT return an\n         * instance of Scene, but rather a SceneConstructor.  The\n         * construct method must be called on the SceneConstructor to\n         * initialize it.  Scene also implements the SceneConstructor\n         * interface, so construct can also be called on a fully\n         * constructed scene to simply return itself.\n         **/\n\n        // Could I have just kept track of the arguments within the\n        // Scene class itself?  Or done something else more normal?\n        // Yeah, but that's no fun...  And this just feels better to me.\n        return new SceneConstructor(this, args);\n    }\n\n    construct(parentSceneOrGame) {\n        /** Polymorphic SceneConstructor interface\n         * This method exists so that fully constructed scenes share the\n         * construction interface with SceneConstructor.\n         *\n         * The parentSceneOrGame object is always ignored, since the\n         * scene has presumably already been passed the desired parent\n         * scene.\n         **/\n\n        return this;\n    }\n\n    // The inherit method may be implemented to inherit additional\n    // information other than the game object from the previous scene.\n    // It is only called when constructed from another scene, but if it\n    // is called, it will be called before the init method.\n    // This will be useful if I want to implement transition scenes.\n    inherit(parentScene) { }\n\n    // The init method is where normal initialization happens.  The\n    // arguments it receives are the same arguments passed to the\n    // constructor.\n    init(...args) { }\n\n    // The update and draw methods are called by the GameLoop at regular\n    // intervals.\n    update(dt) { }\n    draw(ctx, focused) { }\n}\n",
    "// TODO: for the purposes of efficiency, this module is very, eh, wet.\n// But I think I'm overdoing it.  And there are also a bunch of methods\n// I'll probably never use.  Once I know better how I will actually use\n// these classes, I think it would be wise to trim some fat here, even\n// if it results in some unnecessary multiplications or function calls\n// here and there.\n\nexport class Vec2 {\n    /** 2D vector\n     * Operations that normally return a vector are also available in\n     * incremental forms with methods prefixed by `i`.  These mutate the\n     * vector and don't return anything.\n     **/\n\n    constructor(x, y) {\n        this.set(x, y);\n    }\n\n    set(x, y) {\n        this.x = x || 0;\n        this.y = y || 0;\n    }\n\n    static from(obj) {\n        if (\"x\" in obj && \"y\" in obj) {\n            return new this(obj.x, obj.y);\n        }\n\n        var arr = Array.from(obj);\n        if (arr.length === 2) {\n            return new this(arr[0], arr[1]);\n        }\n\n        throw new TypeError(`Can't convert ${obj} to 2D vector`);\n    }\n\n    static fromPolar(r, theta) {\n        return new this(r * Math.cos(theta), r * Math.sin(theta));\n    }\n\n    copy() {\n        return new this.constructor(this.x, this.y);\n    }\n\n    toString() {\n        var name = this.constructor.name;\n        return `[object ${name} <${this.x}, ${this.y}>]`;\n    }\n\n    // Add\n    add(other) {\n        return new this.constructor(\n            this.x + other.x,\n            this.y + other.y\n        );\n    }\n\n    iadd(other) {\n        this.x += other.x;\n        this.y += other.y;\n    }\n\n    // Subtract\n    sub(other) {\n        return new this.constructor(\n            this.x - other.x,\n            this.y - other.y\n        );\n    }\n\n    isub(other) {\n        this.x -= other.x;\n        this.y -= other.y;\n    }\n\n    // Multiply by scalar\n    mul(s) {\n        return new this.constructor(\n            this.x * s,\n            this.y * s\n        );\n    }\n\n    imul(s) {\n        this.x *= s;\n        this.y *= s;\n    }\n\n    // Divide by scalar\n    div(s) {\n        return new this.constructor(\n            this.x / s,\n            this.y / s\n        );\n    }\n\n    idiv(s) {\n        this.x /= s;\n        this.y /= s;\n    }\n\n    // Negation\n    neg() {\n        return new this.constructor(\n            -this.x,\n            -this.y\n        );\n    }\n\n    ineg() {\n        this.x = -this.x;\n        this.y = -this.y;\n    }\n\n    // Perpendicular vector\n    perp() {\n        return new this.constructor(\n            -this.y, this.x\n        );\n    }\n\n    iperp() {\n        var x = this.x;\n        var y = this.y;\n\n        this.x = -y;\n        this.y = x;\n    }\n\n    // Transform by a transformation matrix\n    trf(mat) {\n        return new this.constructor(\n            mat.a * this.x + mat.c * this.y + mat.e,\n            mat.b * this.x + mat.d * this.y + mat.f\n        );\n    }\n\n    itrf(mat) {\n        this.x = mat.a * this.x + mat.c * this.y + mat.e;\n        this.y = mat.b * this.x + mat.d * this.y + mat.f;\n    }\n\n    // Dot (scalar) product\n    dot(other) {\n        return this.x * other.x + this.y * other.y;\n    }\n\n    // 2D scalar cross product\n    cross(other) {\n        return this.x * other.y - this.y * other.x;\n    }\n\n    // Magnitude\n    mag() {\n        return Math.sqrt(this.dot(this));\n    }\n\n    // Unit vector\n    unit() {\n        return this.div(this.mag());\n    }\n\n    iunit() {\n        this.idiv(this.mag());\n    }\n\n    // Test for equality\n    eq(other) {\n        return this.x === other.x && this.y === other.y;\n    }\n\n    // Test if vector has non-number values\n    isNaN() {\n        return isNaN(this.x) || isNaN(this.y);\n    }\n\n    // Test if vector is finite\n    isFinite() {\n        return isFinite(this.x) && isFinite(this.y);\n    }\n\n    // Implement iterator protocol\n    [Symbol.iterator]() {\n        return [this.x, this.y][Symbol.iterator]();\n    }\n\n    // Average vector of array of vectors\n    static average(vecs) {\n        return vecs.reduce((s, v) => s.add(v)).div(vecs.length);\n    }\n}\n\nexport class Transform {\n    /** 2D transformation matrix\n     * Has a similar API to CanvasRenderingContext2D.\n     * All transformation methods mutate the matrix.\n     **/\n\n    constructor(a, b, c, d, e, f) {\n        if (!arguments.length) {\n            this.resetTransform();\n        } else {\n            this.setTransform(a, b, c, d, e, f);\n        }\n    }\n\n    static fromRotation(theta, pivot) {\n        /** A transform describing a rotation about an axis\n         * Returns a rotation by `theta` around the `pivot` vector.\n         **/\n\n        var x = 0;\n        var y = 0;\n        if (pivot) {\n            [x, y] = [pivot.x, pivot.y];\n        }\n\n        var ct = Math.cos(theta);\n        var st = Math.sin(theta);\n        return new this(ct, st, -st, ct, x, y);\n    }\n\n    setTransform(a, b, c, d, e, f) {\n        this.a = a;\n        this.b = b;\n        this.c = c;\n        this.d = d;\n        this.e = e;\n        this.f = f;\n    }\n\n    resetTransform() {\n        this.setTransform(1, 0, 0, 1, 0, 0);\n    }\n\n    transform(a, b, c, d, e, f) {\n        this.setTransform(\n            this.a * a + this.c * b,\n            this.b * a + this.d * b,\n            this.a * c + this.c * d,\n            this.b * c + this.d * d,\n            this.a * e + this.c * f + this.e,\n            this.b * e + this.d * f + this.f\n        );\n    }\n\n    rotate(theta) {\n        var ct = Math.cos(theta);\n        var st = Math.sin(theta);\n\n        // this.transform(ct, st, -st, ct, 0, 0)\n        this.setTransform(\n            this.a * ct + this.c * st,\n            this.b * ct + this.d * st,\n            this.c * ct - this.a * st,\n            this.d * ct - this.b * st,\n            this.e, this.f\n        );\n    }\n\n    translate(x, y) {\n        // this.transform(1, 0, 0, 1, x, y);\n        this.setTransform(\n            this.a, this.b, this.c, this.d,\n            this.a * x + this.c * y + this.e,\n            this.b * x + this.d * y + this.f\n        );\n    }\n\n    scale(x, y) {\n        if (y === undefined) {\n            // Scale x and y uniformly\n            y = x;\n        }\n\n        // this.transform(x, 0, 0, y, 0, 0);\n        this.setTransform(\n            this.a * x, this.b * x,\n            this.c * y, this.d * y,\n            this.e, this.f\n        );\n    }\n\n    [Symbol.iterator]() {\n        return [\n            this.a, this.b, this.c,\n            this.d, this.e, this.f\n        ][Symbol.iterator]();\n    }\n}\n",
    "import { background, createImage } from \"./engine/ctxlib.js\";\nimport { Vec2, Transform } from \"./engine/vmath.js\";\nimport { rtripolycol } from \"./engine/collision.js\";\nimport { Camera } from \"./engine/camera.js\";\nimport { GameLoop } from \"./engine/loop.js\";\nimport { Game } from \"./engine/game.js\";\nimport { Scene } from \"./engine/scene.js\";\nimport { LoadGlobalResources } from \"./engine/loading-scene.js\";\nimport { getJSON } from \"./engine/resources.js\";\n\nimport { MultiShape, Polygon } from \"./shape.js\";\nimport { Asteroid } from \"./asteroid.js\";\nimport { Ship, Fragment, speedColor } from \"./ship.js\";\nimport { toMetric, mapMinMax } from \"./utils.js\";\n\n\nclass GameOverScene extends Scene {\n    inherit(parentScene) {\n        this.background = parentScene;\n    }\n\n    update(dt) {\n        if (this.game.keys.R) return new AsteroidalLander;\n    }\n\n    draw(ctx) {\n        ctx.save();\n        this.background.draw(ctx);\n        ctx.restore();\n\n        background(ctx, \"rgba(0, 0, 100, 0.5)\");\n\n        ctx.fillStyle = \"#FFF\";\n        ctx.font = \"40px monospace\";\n        ctx.textBaseline = \"middle\";\n        ctx.textAlign = \"center\";\n        ctx.fillText(\"Press [R] to restart\", this.game.width/2, this.game.height/2, this.game.width);\n    }\n}\n\nclass ExplosionScene extends Scene {\n    inherit(parentScene) {\n        this.asteroid = parentScene.asteroid;\n        this.cam = parentScene.cam;\n    }\n\n    init(fragments) {\n        this.fragments = fragments;\n        this.time = 0;\n    }\n\n    update(dt) {\n        this.time += dt;\n        // TODO: I could use my new Camera zoom animation for this, but\n        // the zoom function would be a bit different.  Maybe add an\n        // alternative zoom function to Camera?  Or just use the normal\n        // zoom animation here rather than this weird quadratic thing?\n        var zoominess = Math.min(this.cam.zoom * this.cam.zoom, 1);\n        this.cam.zoom -= zoominess * (dt / 50);\n        if (this.cam.zoom < 1/100) {\n            this.cam.zoom = 1/100;\n\n            if (this.time > 5000) return new GameOverScene;\n        }\n\n        // Nice to have for testing, but most of the time I want to\n        // force the player to wallow in their shame.\n        // if (this.game.keys.R) return new AsteroidalLander;\n\n        for (var frag of this.fragments) {\n            frag.gravitate(this.asteroid, dt);\n            frag.update(dt);\n\n            var [lo, hi] = this.asteroid.getSlice(frag);\n            for (var i = lo; i <= hi; i++) {\n                var p1 = this.asteroid.getPoint(i);\n                var p2 = this.asteroid.getPoint(i + 1);\n\n                var collision = rtripolycol(\n                    this.asteroid.pos, p1, p2, frag.getBounds()\n                );\n\n                if (collision) frag.collide(collision);\n            }\n        }\n    }\n\n    draw(ctx) {\n        background(ctx, \"#000\");\n\n        ctx.translate(this.game.width/2, this.game.height/2);\n        this.cam.applyTransform(ctx);\n\n        for (var frag of this.fragments) frag.draw(ctx, this.cam);\n\n        this.asteroid.draw(ctx, this.cam);\n    }\n}\n\n// TODO: keep track of G forces from impacts.  Even when the ship is not\n// destroyed, high G landings damage things, resulting in lower score or\n// other implicitly undesirable outcomes.\n// \"X people were injured during the rough landing\"\n// \"$X worth of mining equipment was damaged due to the rough landing\"\n// etc.\nclass AsteroidalLander extends Scene {\n    init() {\n        this.frames = 0;\n\n        this.asteroid = new Asteroid(5000, 200, this.game.rc.hatching);\n        // this.asteroid.grav = 0;\n\n        var rShip = this.asteroid.maxRadius + 400;\n\n        this.ship = new Ship(this.game.rc.cityShipData, {\n            pos:new Vec2(0, -rShip),\n            vel: new Vec2(Math.sqrt(this.asteroid.grav / rShip), 0),\n            theta: Math.random() * 2 * Math.PI,\n            crest: 0.3,\n            sfric: 0.9,\n            dfric: 0.7,\n\n            // A bit extra fuel for exploration\n            fuel: 1.5\n        });\n\n        this.maxDt = 0;\n        this.framesSinceMaxDt = 0;\n\n        this.cam = new Camera;\n        this.cam.follow(this.ship);\n        this.cam.zoom = 1/350;\n        this.cam.animZoom(1/15, 2500);\n\n        this.regimes = [\n            {enter: 0, exit: 700, zoom: 1/3, ttime: 500},\n            {enter: 300, exit: 6000, zoom: 1/15, ttime: 1000},\n            // {enter: 1000, exit: 6000, zoom: 1/15, ttime: 500},\n            {enter: 5000, exit: 1.1e4, zoom: 1/100, ttime: 1500},\n            {enter: 1e4, exit: 0, zoom: 1/500, ttime: 2000},\n        ];\n\n        this.curRegime = this.regimes[0];\n    }\n\n    update(dt) {\n        this.frames++;\n\n        if (this.game.keys.R && this.ship.fuel <= 0) {\n            return new AsteroidalLander;\n        }\n\n        if (this.game.keys.R || dt >= this.maxDt) {\n            this.framesSinceMaxDt = 0;\n            this.maxDt = dt;\n            console.log(\"hit max of \", dt, \"frame:\", this.frames);\n        } else {\n            this.framesSinceMaxDt++;\n        }\n\n        if (this.game.keys.Spacebar) dt *= 10;\n        this.cam.update(dt);\n\n        // if (this.game.keys.$BracketLeft) this.cam.zoom -= 0.03 * this.cam.zoom;\n        // if (this.game.keys.$BracketRight) this.cam.zoom += 0.03 * this.cam.zoom;\n        // this.cam.zoom = Math.max(Math.min(this.cam.zoom, 1), 1/2000);\n\n        this.ship.gravitate(this.asteroid, dt);\n\n        var keyUp = this.game.keys.$KeyW || this.game.keys.ArrowUp;\n        var keyDn = this.game.keys.$KeyS || this.game.keys.ArrowDown;\n        var keyLe = this.game.keys.$KeyA || this.game.keys.ArrowLeft;\n        var keyRt = this.game.keys.$KeyD || this.game.keys.ArrowRight;\n\n        this.ship.update(dt, {\n            turnLeft: keyLe || (keyDn && this.ship.omega > 2e-6),\n            turnRight: keyRt || (keyDn && this.ship.omega < -2e-6),\n            thrustForward: keyUp\n            // increaseThrust: this.game.keys.ArrowUp,\n            // decreaseThrust: this.game.keys.ArrowDown\n        })\n\n        var maxAstrRadius = -1;\n        var normals = [];\n        var origVel = this.ship.vel.copy();\n        var vulnerable = false;\n        var cool = true;\n        var [lo, hi] = this.asteroid.getSlice(this.ship);\n        for (var i = lo; i <= hi; i++) {\n            var p1 = this.asteroid.getPoint(i);\n            var p2 = this.asteroid.getPoint(i + 1);\n            maxAstrRadius = Math.max(\n                maxAstrRadius, Math.max(p1.mag(), p2.mag())\n            );\n\n            var collision = rtripolycol(\n                this.asteroid.pos, p1, p2,\n                this.ship.getBounds()\n            );\n\n            if (collision) {\n                normals.push(collision.norm);\n                var vReg = this.ship.shape.region.vulnerable;\n                var vPoints = vReg.trfPoints(this.ship.getTransform());\n                if (rtripolycol(this.asteroid.pos, p1, p2, vPoints)) {\n                    vulnerable = true;\n                };\n\n                if (!this.asteroid.isCool(i)) cool = false;\n\n                this.ship.collide(collision);\n\n            }\n        }\n\n        var sep = this.ship.pos.sub(this.asteroid.pos).mag() - (\n            maxAstrRadius + this.ship.shape.radius\n        );\n\n        if (sep < this.curRegime.enter || sep > this.curRegime.exit) {\n            for (var reg of this.regimes) {\n                if (sep < reg.enter) break;\n                this.curRegime = reg;\n            }\n        }\n\n        this.cam.animZoom(this.curRegime.zoom, this.curRegime.ttime);\n\n\n        // The idea here was that I could use this to put a message\n        // reminding the player that they need to land elsewhere, but\n        // unfortunately this.stable is ironically very unstable, I\n        // think mostly due to omega fluctuations.\n        this.stable = false;\n        if (normals.length) {\n            var avgNorm = Vec2.average(normals).unit();\n            var dSpeed = origVel.sub(this.ship.vel).mag();\n            var speed = this.ship.vel.mag();\n            if (vulnerable || dSpeed > 0.05) {\n                return new ExplosionScene(this.ship.explode(avgNorm));\n            }\n\n            var forward = Vec2.fromPolar(1, this.ship.theta);\n            this.stable = (\n                forward.dot(avgNorm) > 0.99 &&\n                speed < 0.0002 && Math.abs(this.ship.omega) < 6e-7\n            );\n\n            if (cool && this.stable) {\n                this.cam.zoom = 1/2;\n                return new GameOverScene;\n            }\n        }\n    }\n\n    draw(ctx, unfocused) {\n        var cam = this.cam;\n        cam.view = this.game.minDim / this.ship.shape.radius / 2;\n        cam.rotation = -this.asteroid.angleFor(this.ship.pos) - Math.PI / 2;\n\n        background(ctx, \"#000\");\n\n        ctx.save();\n            ctx.translate(this.game.width / 2, this.game.height / 2);\n            cam.applyTransform(ctx);\n\n            this.ship.draw(ctx, cam);\n            this.asteroid.draw(ctx, cam);\n            this.ship.drawInfo(ctx, cam);\n        ctx.restore();\n\n        ctx.fillStyle = \"rgba(15,15,15,0.5)\"\n        ctx.fillRect(this.game.width / 2, 0, this.game.width, 40);\n        ctx.fillStyle = \"rgba(80,80,80,0.5)\"\n        ctx.fillRect(0, 0, this.game.width / 2, 40);\n        ctx.fillStyle = \"rgba(230,210,50,0.5)\"\n        ctx.fillRect(0, 0, this.game.width * this.ship.fuel / 2, 40);\n        if (this.ship.fuel <= 0.2 && (new Date) % 2000 < 700) {\n            ctx.font = \"40px monospace\";\n            ctx.textBaseline = \"top\";\n            ctx.textAlign = \"start\";\n            ctx.fillStyle = \"#fb0\";\n            ctx.fillText(\n                this.ship.fuel > 0? \"FUEL LOW\" : \"NO FUEL\",\n                5, 5, this.game.width / 2 - 10\n            );\n        }\n\n        if (this.ship.fuel <= 0) {\n            ctx.font = \"15px monospace\";\n            ctx.textBaseline = \"top\";\n            ctx.textAlign = \"start\";\n            ctx.fillStyle = \"#FFF\";\n            ctx.fillText(\"Press [R] to restart\", 5, 45, this.game.width / 2 - 10);\n        }\n\n        if (this.framesSinceMaxDt < 30) {\n            ctx.fillStyle = \"#FE4\";\n        } else {\n            ctx.fillStyle = \"#FFF\";\n        }\n\n        ctx.textBaseline = \"top\";\n        ctx.font = \"15px monospace\";\n        ctx.textAlign = \"start\";\n\n        ctx.textAlign = \"end\";\n\n        ctx.fillStyle = \"#4DF\";\n        ctx.fillText(\"Altitude: \" + toMetric(\n            this.ship.getAltitude(this.asteroid) * 0.6,\n            \"m\", 3, 0.01\n        ), this.game.width - 5, 5, this.game.width / 2 - 10);\n\n        var vmag = this.ship.vel.mag();\n        ctx.fillStyle = speedColor(vmag, 0.05);\n        ctx.fillText(\n            ((vmag > Math.sqrt(2 * this.asteroid.grav / this.ship.pos.mag()))?\n                \"(ESC)\" : \"\"\n            ) + \" Velocity: \" + toMetric(vmag * 600, \"m/s\", 3, 0.01),\n            this.game.width - 5, 25, this.game.width / 2 - 10\n        );\n\n        ctx.fillStyle = \"#888\";\n        ctx.textAlign = \"center\";\n\n        // Minimap, TODO: move this code somewhere else.\n        ctx.save();\n        // This clipping region isn't really needed currently, since\n        // nothing should ever end up outside of it anymore, but might\n        // as well have it anyway.\n        ctx.rect(\n            this.game.width / 2, this.game.height / 2,\n            this.game.width, this.game.height\n        );\n        ctx.clip();\n\n        var mapZoom = this.game.minDim / 8 / this.asteroid.maxRadius;\n        ctx.translate(\n            this.game.width - this.game.minDim / 4,\n            this.game.height - this.game.minDim / 4\n        );\n        ctx.scale(mapZoom, mapZoom);\n\n        // ctx.strokeStyle = \"rgba(150, 255, 150, 0.75)\";\n        ctx.strokeStyle = \"rgba(140, 140, 112, 0.75)\";\n        ctx.fillStyle = \"rgba(140, 140, 112, 0.15)\";\n        var pixels = 1 / mapZoom;\n        ctx.lineWidth = 1.5 * pixels;\n        this.asteroid.shape.draw(ctx);\n        ctx.fill();\n\n        for (var i of this.asteroid.cool) {\n            if (Math.random() < 0.05) continue;\n            ctx.fillStyle = \"rgba(240, 0, 128, 0.6)\";\n            ctx.beginPath();\n            var offset = Math.round(0.7 * (Math.random() - Math.random()));\n            ctx.arc(\n                ...this.asteroid.getPoint(i + offset),\n                2.3 * pixels, 0, 2 * Math.PI\n            );\n            ctx.fill();\n        }\n\n        var edge = (this.game.minDim / 4 - 8) * pixels;\n        var sx = this.ship.pos.x - this.asteroid.pos.x;\n        var sy = this.ship.pos.y - this.asteroid.pos.y;\n        if (Math.abs(sx) > edge || Math.abs(sy) > edge) {\n            sx = Math.min(Math.max(sx, -edge), edge);\n            sy = Math.min(Math.max(sy, -edge), edge);\n            if ((new Date) % 1000 < 500) {\n                ctx.fillStyle = \"rgba(68, 221, 255, 0.3)\";\n            } else {\n                ctx.fillStyle = \"rgba(68, 221, 255, 0.1)\";\n            }\n        } else {\n            ctx.fillStyle = \"rgba(68, 221, 255, 0.75)\";\n        }\n\n        ctx.translate(sx, sy);\n        ctx.rotate(this.ship.theta);\n        ctx.beginPath();\n        ctx.moveTo(8 * pixels, 0);\n        ctx.arc(0, 0, 2.3 * pixels, Math.PI / 2, 3 * Math.PI / 2);\n        ctx.closePath();\n        ctx.fill();\n\n        ctx.restore();\n\n        if (unfocused) {\n            background(ctx, \"rgba(0,0,0,0.75)\");\n            ctx.textBaseline = \"middle\";\n            ctx.font = `20pt ${this.game.theme.fontFace}`;\n            ctx.textAlign = \"center\";\n            ctx.fillStyle = \"#CCC\";\n            ctx.fillText(\"Click to focus\", this.game.width / 2, this.game.height / 2, this.game.width);\n        }\n    }\n}\n\nwindow.addEventListener(\"load\", function(e) {\n    var canvas = document.getElementById(\"asteroidal-lander\");\n\n    new GameLoop(canvas).start(\n        new Game(canvas, {\n            bg: \"#000\",\n            fg: \"#DDD\",\n            fontFace: \"monospace\"\n        }),\n\n        new LoadGlobalResources({\n            cityShipData: getJSON(\"city-ship.json\"),\n            // A delay for testing out the loading scene\n            // delay: new Promise(resolve => setTimeout(resolve, 5000)),\n            hatching: createImage([100, 100], function(ctx) {\n                background(ctx, \"rgb(10,10,10)\");\n                // ctx.strokeStyle = \"#777\";\n                // ctx.strokeStyle = \"#997\";\n                ctx.strokeStyle = \"#554\";\n                ctx.lineCap = \"square\";\n                ctx.scale(2, 2);\n\n                ctx.beginPath();\n                    ctx.moveTo(0, 0); ctx.lineTo(50, 50);\n                    ctx.moveTo(25, 0); ctx.lineTo(50, 25);\n                    ctx.moveTo(0, 25); ctx.lineTo(25, 50);\n\n                    // The corner bits (only necessary at the 2x scale)\n                    ctx.moveTo(-1, 49); ctx.lineTo(1, 51);\n                    ctx.moveTo(49, -1); ctx.lineTo(51, 1);\n                ctx.stroke();\n            })\n        }, new AsteroidalLander)\n    );\n})\n",
    "// TODO: Maybe move shape.js to engine?  It feels enginey.  ExhaustShape\n// wouldn't belong in the engine though.  There should be a nicer way to\n// register shape names with MultiShape I think.\n\nimport { Vec2 } from \"./engine/vmath.js\";\nimport { mapMinMax } from \"./utils.js\";\n\nclass PointShape {\n    /** Base class of shapes consisting of multiple points **/\n\n    constructor(points) {\n        this.setData(points);\n    }\n\n    setData(points) {\n        this.points = points.map(p => Vec2.from(p));\n        this.radius = mapMinMax(this.points, p=>p.mag()).maxKey;\n    }\n\n    trfPoints(tm) {\n        return this.points.map(p => p.trf(tm));\n    }\n\n    copy() {\n        return new this.constructor(this.points);\n    }\n\n    draw(ctx) { }\n}\n\nexport class Dots extends PointShape {\n    draw(ctx) {\n        var oldFill = ctx.fillStyle;\n        ctx.fillStyle = ctx.strokeStyle;\n\n        try {\n            for (var point of this.points) {\n                ctx.beginPath();\n                ctx.arc(...point, ctx.lineWidth / 2, 0, 2 * Math.PI);\n                ctx.fill();\n            }\n        } finally {\n            ctx.fillStyle = oldFill;\n        }\n    }\n}\n\nexport class Polyline extends PointShape {\n    /** The \"open\" shape kind in MultiShape **/\n\n    trace(ctx) {\n        ctx.beginPath();\n\n        // TODO: do this in a more browser-compatible way probably\n        var points = this.points[Symbol.iterator]();\n        ctx.moveTo(...points.next().value);\n        for (var point of points) {\n            ctx.lineTo(...point);\n        }\n    }\n\n    draw(ctx) {\n        this.trace(ctx);\n        ctx.stroke();\n    }\n}\n\nexport class Polygon extends Polyline {\n    /** The \"closed\" shape kind in MultiShape **/\n\n    trace(ctx) {\n        super.trace(ctx);\n        ctx.closePath();\n    }\n\n    static rect(x, y, w, h) {\n        // IDK why I wrote this method, I don't need it.  Not even sure\n        // if it makes sense to write this as a static method as opposed\n        // to creating a subclass (which has the advantage of being\n        // usable in MultiShape)\n        return new this([x, y], [x + w, y], [x + w, y + h], [x, y + h]);\n    }\n}\n\nexport class ExhaustShape extends Polyline {\n    setData(data) {\n        this.throttle = 0;\n        this.source = Vec2.from(data.source);\n        this.displacement = Vec2.from(data.displacement);\n        this.width = data.width;\n    }\n\n    get points() {\n        var norm = this.displacement.perp().unit();\n\n        return [\n            this.source.add(norm.mul(this.width / 2)),\n            this.source.add(this.displacement.mul(this.throttle)),\n            this.source.sub(norm.mul(this.width / 2))\n        ]\n    }\n\n    copy() {\n        return new this.constructor(this);\n    }\n}\n\nexport class MultiShape {\n    constructor(shapes, shapeNames) {\n        shapeNames = shapeNames || defaultShapeNames;\n\n        // This is a somewhat silly way to do things, but IDK... There\n        // is a strange kind of elegance to it in my opinion.  You can\n        // use for-in on either object.  On this.shapes, you get all the\n        // shapes (decorative or not) if you loop this way.\n        // My main concern is that since we obviously can't use\n        // hasOwnProperty, we're relying on browsers to only include\n        // enumerable properties, which IIRC there was some funkyness in\n        // some old browsers about this, so...\n        // Also, if we do things like that, I don't really like the name\n        // nonDecorative.\n        // But basically I want it to be fast to get the subset of\n        // shapes that are not decorative, and this accomplishes that.\n        this.nonDecorative = {};\n        this.shapes = Object.create(this.nonDecorative);\n\n        // .region is for virtual shapes that are not displayed\n        this.region = {};\n\n        for (var key in shapes) {\n            var kind = shapeNames[shapes[key].kind];\n            if (!kind) {\n                throw new ReferenceError(\n                    \"Unknown shape kind: \" + shapes[key].kind\n                )\n            }\n\n            var shape = new kind(shapes[key].data);\n\n            if (key.charAt(0) === \"@\") {\n                this.region[key.substring(1)] = shape;\n            } else if (!shapes[key].decorative) {\n                this.nonDecorative[key] = shape;\n            } else {\n                this.shapes[key] = shape;\n            }\n        }\n\n        // @bounds is a special region all shapes must have\n        if (!this.region.bounds) {\n            throw new ReferenceError(\"Shape has no @bounds region\");\n        }\n\n        this.radius = this.region.bounds.radius;\n    }\n\n    draw(ctx) {\n        for (var key in this.shapes) {\n            this.shapes[key].draw(ctx);\n        }\n    }\n}\n\nvar defaultShapeNames = {\n    \"open\": Polyline,\n    \"closed\": Polygon,\n    \"dot\": Dots,\n    \"exhaust\": ExhaustShape\n}\n",
    "import { Vec2, Transform } from \"./engine/vmath.js\";\nimport { MultiShape } from \"./shape.js\";\nimport { mapMinMax } from \"./utils.js\";\n\nexport function speedColor(val, half) {\n    var mag = Math.abs(val);\n    var frac = mag / (mag + half);\n    var cTheta = frac * Math.PI / 2;\n    var blue = 255 * Math.cos(cTheta);\n    var red = 255 * Math.sin(cTheta);\n    var green = 255 * 4 * frac * (1 - frac);\n    return \"rgb(\" + red + \", \" + green + \", \" + blue + \")\";\n}\n\nexport class PhysicsObject {\n    constructor(shape, opt) {\n        this.shape = shape;\n        opt = opt || {};\n        this.pos = opt.pos || new Vec2;\n        this.vel = opt.vel || new Vec2;\n        this.theta = opt.theta || 0;\n        this.omega = opt.omega || 0;\n        // coefficient of restitution\n        this.crest = opt.crest || 0;\n        // \"coefficient of inertia\": ratio of moment of inertia to mass\n        // default is to treat everything like a big circle\n        this.ciner = opt.ciner || this.shape.radius**2 / 2;\n        // this.damp = opt.damp || 0;\n        this.sfric = opt.sfric || 0;\n        this.dfric = opt.dfric || 0;\n    }\n\n    applyImpulse(imp, where) {\n        // Since my physics objects don't have masses, the impulse is\n        // really just a change in velocity.\n        // `where` is relative to the center of the physics object.\n\n        this.vel.iadd(imp);\n\n        // When where is undefined, it is equivalent to applying the\n        // force to the center of mass.\n        if (where !== undefined) {\n            this.omega += where.cross(imp) / this.ciner;\n        }\n    }\n\n    gravitate(body, dt) {\n        this.applyImpulse(\n            this.pos.mul(-body.grav * dt)\n            .div(Math.pow(this.pos.sub(body.pos).mag(), 3))\n        );\n    }\n\n    pointVel(where) {\n        return this.vel.add(where.perp().mul(this.omega));\n    }\n\n    collide(c) {\n        // Responds to a collision with a fixed, stationary object\n\n        // var piv = c.pivot.sub(this.pos);\n        var piv = Vec2.average(c.intersections).sub(this.pos);\n        this.pos.iadd(c.norm.mul(c.depth));\n\n        var pVel = this.pointVel(piv);\n        var horiz = c.norm.perp();\n\n        var nLeverage = piv.cross(c.norm);\n        var pBump = -pVel.dot(c.norm) * (1 + this.crest) /\n                    (1 + nLeverage * nLeverage / this.ciner);\n\n        this.applyImpulse(c.norm.mul(pBump), piv);\n        pVel = this.pointVel(piv);\n\n        // Friction\n        var tVel = pVel.sub(c.norm.mul(c.norm.dot(pVel)));\n        var fric = tVel.mag();\n        if (fric > pBump * this.sfric) {\n            fric = pBump * this.dfric;\n        }\n\n        var tDir = tVel.unit();\n        var tLeverage = piv.cross(tDir);\n        this.applyImpulse(tDir.mul(-fric / (\n            1 + tLeverage * tLeverage / this.ciner\n        )), piv);\n    }\n\n    // TODO: I probably want to cache stuff like transforms and bounds.\n    // IDK though, maybe not.\n    getTransform() {\n        var tm = new Transform;\n        tm.translate(this.pos.x, this.pos.y);\n        tm.rotate(this.theta);\n        return tm;\n    }\n\n    getBounds() {\n        return (\n            (this.shape.region && this.shape.region.bounds) ||\n            this.shape\n        ).trfPoints(this.getTransform());\n\n        // // Should return transformed bounds.  Currently leaving this up\n        // // to subclassers since there isn't a consistent way to do this.\n        // return [];\n    }\n\n    draw(ctx, cam) {\n        ctx.save();\n        ctx.transform(...this.getTransform());\n\n        ctx.lineWidth = cam.scale < 1? 1 / cam.scale : 1;\n        ctx.strokeStyle = \"#FFF\";\n\n        this.shape.draw(ctx);\n        ctx.restore();\n    }\n\n    update(dt) {\n        this.theta += this.omega * dt;\n        this.pos.iadd(this.vel.mul(dt));\n    }\n}\n\nexport class Ship extends PhysicsObject {\n    constructor(shapeData, opt) {\n        super(new MultiShape(shapeData), opt);\n        this.throttle = 0;\n        this.fuel = 1;\n        this.fmul = 1/(opt && opt.fuel || 1);\n    }\n\n    getBounds() {\n        return this.shape.region.bounds.trfPoints(this.getTransform());\n    }\n\n    drawInfo(ctx, cam) {\n        ctx.save();\n        ctx.transform(...this.getTransform());\n        ctx.scale(1/cam.scale, 1/cam.scale);\n        var rad = this.shape.radius * cam.scale;\n\n        var vmag = this.vel.mag();\n        if (vmag > 0.01) {\n            var vdir = this.vel.div(vmag);\n            ctx.save();\n            // Undo rotation, kinda gross.  Probably better not to apply\n            // transform and just translate by right amount, but...\n            ctx.rotate(-this.theta);\n\n            ctx.fillStyle = ctx.strokeStyle = speedColor(vmag, 0.05);\n\n            ctx.beginPath();\n            ctx.arc(...vdir.mul(rad + 5), 3, 0, 2 * Math.PI);\n            ctx.fill();\n\n            // TODO: maybe some kind of log scale for velocity, rather\n            // than just capping it off?  Would need to deal with\n            // negative logs though.  And maybe cap it off eventually\n            // anyway, but probably outside normal velocity range.\n            ctx.beginPath();\n            ctx.moveTo(...vdir.mul(rad + 5));\n            ctx.lineTo(...vdir.mul(rad + 5 + Math.min(20, vmag * 100)));\n            ctx.lineWidth = 2.5;\n            ctx.stroke();\n            ctx.restore();\n        }\n\n        if (cam.scale < 0.3) {\n            ctx.fillStyle = \"#4DF\";\n\n            ctx.beginPath();\n            ctx.moveTo(rad + 25, 0);\n            ctx.lineTo(rad + 5, 5);\n            ctx.lineTo(rad + 5, -5);\n            ctx.closePath();\n            ctx.fill();\n        }\n\n        ctx.restore();\n    }\n\n    _randExhaust(throttle) {\n        var r = Math.random() - Math.random(); // r  [-1, 1]\n        return throttle * (0.75 + 0.25 * r);\n    }\n\n    _updateTurnExhaustL(throttle) {\n        var t = this._randExhaust(throttle);\n        var c = this._randExhaust(throttle);\n        this.shape.shapes.turningExhaustL.throttle = t;\n        this.shape.shapes.counterExhaustR.throttle = c;\n    }\n\n    _updateTurnExhaustR(throttle) {\n        var t = this._randExhaust(throttle);\n        var c = this._randExhaust(throttle);\n        this.shape.shapes.turningExhaustR.throttle = t;\n        this.shape.shapes.counterExhaustL.throttle = c;\n    }\n\n    _updatePrimaryExhaust() {\n        var p = this._randExhaust(this.throttle);\n        this.shape.shapes.primaryExhaust.throttle = p;\n    }\n\n    update(dt, actions) {\n        actions = actions || {};\n        // Not a great way to deal the out of fuel condition, but all\n        // actions currently use fuel, so I suppose it works for now.\n        if (this.fuel <= 0) actions = {};\n\n        this._updateTurnExhaustL(actions.turnLeft? 1 : 0);\n        if (actions.turnLeft) {\n            this.omega -= 3e-7 * dt;\n            this.fuel -= 5e-6 * this.fmul * dt;\n        }\n\n        this._updateTurnExhaustR(actions.turnRight? 1 : 0);\n        if (actions.turnRight) {\n            this.omega += 3e-7 * dt;\n            this.fuel -= 5e-6 * this.fmul * dt;\n        }\n\n        // if (actions.increaseThrust) this.throttle += dt * 9e-4;\n        // if (actions.decreaseThrust) this.throttle -= dt * 9e-4;\n        if (actions.thrustForward) {\n            this.throttle += dt * 1e-3;\n            this.throttle = Math.min(this.throttle, 1);\n            var thrustMag = this.throttle * 4e-5 * dt;\n            this.vel.iadd(Vec2.fromPolar(thrustMag, this.theta));\n            // Extra fuel is wasted early in the engine startup.  This\n            // is to further incentivize judicious use of the throttle,\n            // but if you want a some technobabble, you can blame it on\n            // the integrated ullage engines in the ship's drive system.\n            this.fuel -= (2 - this.throttle) * 3e-5 * this.fmul * dt;\n        } else {\n            this.throttle = 0;\n        }\n\n        this._updatePrimaryExhaust();\n\n        this.fuel = Math.max(this.fuel, 0);\n        window.fuel = this.fuel;\n\n        super.update(dt);\n    }\n\n    explode(norm) {\n        var horiz = norm.perp().mul(0.75);\n\n        var frags = [];\n        for (var name in this.shape.nonDecorative) {\n            var shape = this.shape.nonDecorative[name];\n\n            var randTheta = Math.random() * Math.PI;\n            var randR = Math.random() / 5;\n\n            var dVel = norm.mul(randR * Math.sin(randTheta));\n            dVel.iadd(horiz.mul(randR * Math.cos(randTheta)));\n\n            var dOmega = (Math.random() - Math.random()) / 900;\n\n            frags.push(new Fragment(this, shape, dVel, dOmega));\n        }\n\n        return frags;\n    }\n\n    getAltitude(asteroid) {\n        return mapMinMax(this.getBounds(), function(point) {\n            var idx = asteroid.indexForAngle(asteroid.angleFor(point));\n            var a = asteroid.getPoint(idx);\n            var b = asteroid.getPoint(idx + 1);\n\n            var edge = b.sub(a);\n            var down = asteroid.pos.sub(point).unit();\n            return a.sub(point).cross(edge) / down.cross(edge);\n        }).minKey;\n    }\n}\n\n\nexport class Fragment extends PhysicsObject {\n    constructor(origin, shape, dVel, dOmega) {\n        dVel = dVel || new Vec2;\n        dOmega = dOmega || 0;\n\n        // use average vertex position as center\n        var center = (\n            shape.points.reduce((s,v)=>s.add(v))\n            .div(shape.points.length)\n        );\n\n        // re-center the shape\n        shape = new shape.constructor(\n            shape.points.map(v=>v.sub(center))\n        );\n\n        super(shape, {\n            pos: center.trf(origin.getTransform()),\n            vel: origin.pointVel(center).add(dVel),\n            theta: origin.theta,\n            omega: origin.omega + dOmega,\n\n            crest: origin.crest,\n            sfric: origin.sfric,\n            dfric: origin.dfric\n        });\n    }\n}\n",
    "export function ceilPow(val, pow) {\n    /** Round val to the nearest power of pow (2 by default) **/\n\n    var lnp = pow? Math.log(pow) : Math.LN2;\n    return Math.exp(lnp * Math.ceil(Math.log(val) / lnp));\n}\n\nexport function mapMinMax(iterable, keyFunc) {\n    var min, max, minKey, maxKey;\n\n    var iterator = iterable[Symbol.iterator]();\n    var first = iterator.next().value;\n    min = max = first;\n    minKey = maxKey = (keyFunc? keyFunc(first) : first);\n\n    for (var value of iterator) {\n        var key = (keyFunc? keyFunc(value) : value);\n\n        if (key < minKey) {\n            min = value;\n            minKey = key;\n        } else if (key > maxKey) {\n            max = value;\n            maxKey = key;\n        }\n    }\n\n    return { min: min, max: max, minKey: minKey, maxKey: maxKey };\n}\n\n\n\n\nconst PREFIXES = [\n    // TODO: maybe replace mc with , depending on how it shows up in\n    // the font I use.  Also, it's  (dig: My), not  (dig: m*).\n    \"y\", \"z\", \"a\", \"f\", \"p\", \"n\", \"mc\", \"m\",\n    \"\",\n    \"k\", \"M\", \"G\", \"T\", \"P\", \"E\", \"Z\", \"Y\"\n];\n\nfunction magnitude(val) {\n    if (val === 0) return 0;\n    return Math.floor(Math.log(Math.abs(val)) * Math.LOG10E);\n}\n\n// TODO: make this better somehow.  It's ugly and inefficient and likely\n// littered with bugs.  There's got to be a better way.\nexport function toMetric(val, unit, sig, prec) {\n    /** Format a number with metric-prefixed units\n     * Rounds the number `val` to `sig` significant figures (but with no\n     * more precision than `prec`), returning a string with the unit\n     * `unit` prefixed by a metric/SI prefix.\n     */\n\n    unit = unit || \"\";\n    sig = sig || 3;\n\n    // NaN, Infinity, other non-numeric\n    if (!isFinite(val)) return `${val} ${unit}`;\n\n    // Round to the nearest multiple of prec\n    if (prec) val = Math.round(val / prec) * prec;\n\n    var roundFactor = Math.pow(10, 1 + magnitude(val) - sig);\n    var rounded = Math.round(val / roundFactor) * roundFactor;\n\n    var pow = magnitude(rounded);\n\n    var minPrefix = -8;\n    var maxPrefix = 8;\n    if (prec) {\n        var minPow = magnitude(prec);\n        minPrefix = Math.min(Math.max(\n            Math.ceil(minPow / 3),\n        minPrefix), maxPrefix);\n\n        sig -= Math.max(0, minPow - pow + sig - 1);\n    }\n\n    // Power of the nearest prefix\n    var ppow = 3 * Math.min(Math.max(\n        Math.floor(pow / 3),\n    minPrefix), maxPrefix);\n\n    var decs = sig - (1 + pow - ppow);\n    var num = (rounded / Math.pow(10, ppow)).toFixed(Math.max(0, decs));\n    unit = PREFIXES[8 + Math.floor(ppow / 3)] + unit;\n    return `${num} ${unit}`;\n}\n"
  ]
}